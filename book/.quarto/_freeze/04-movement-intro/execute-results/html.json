{
  "hash": "90ace82fbb1378065ccd6782e0cf16c7",
  "result": {
    "engine": "jupyter",
    "markdown": "# Analysing tracks with movement {#sec-movement-intro}\n\nIn this tutorial, we will introduce the `movement` package\nand walk through parts of its [documentation](https://movement.neuroinformatics.dev/).\n\nYou will be given a set of exercises to complete—using `movement` to analyse the pose tracks you've generated in @sec-sleap or any other tracking data you may have access to.\n\n::: {.callout-note title=\"Using the right environment\"}\n\nIf you are following along this chapter on your own computer,\nmake sure to run all code snippets with the `animals-in-motion-env` environment activated\n(see [prerequisites @sec-install-movement]). This also applies to launching the\n`movement` graphical user interface (@sec-movement-gui) and running\n`movement` examples as Jupyter notebooks (@sec-movement-filtering and @sec-movement-kinematics).\n\n:::\n\n\n## What is movement?\n\nIn [chapters @sec-intro] and [-@sec-dl-cv] we saw how the rise of deep learning-based markerless motion tracking tools is transforming the study of animal behaviour.\n\nIn [@sec-sleap] we dove deeper into [SLEAP](https://sleap.ai/), a popular package for pose estimation and tracking.\nWe saw how SLEAP and similar tools—like\n[DeepLabCut](https://www.mackenziemathislab.org/deeplabcut) and [LightningPose](https://lightning-pose.readthedocs.io/en/latest/)—detect the positions of user-defined keypoints in video frames,\ngroup the keypoints into poses, and connect their identities across time into sequential collections we call pose tracks.\n\nThe extraction of pose tracks is often just the beginning of the analysis.\nResearchers use these tracks to investigate various aspects of animal behaviour, such as kinematics, spatial navigation, social interactions, etc.\nTypically, these analyses involve custom, project-specific scripts that are hard to reuse across different projects and are rarely maintained after the project's conclusion.\n\nIn response to these challenges, we saw the need for a versatile and easy-to-use toolbox that is compatible with a range of ML-based motion tracking frameworks and supports interactive data exploration and analysis.\nThat's where `movement` comes in.\nWe started building in early 2023 to answer the question: __what can I do now with these tracks?__\n\n::: {.callout-note title=\"movement's mission\"}\n\n`movement`aims to facilitate the study of animal behaviour\nby providing a consistent, modular interface for analysing motion tracks,\nenabling steps such as data cleaning, visualisation, and motion quantification.\n\nSee [movement's mission and scope statement](https://movement.neuroinformatics.dev/community/mission-scope.html) for more details.\n\n:::\n\n![Overview of the `movement` package](img/movement_overview.png){#fig-movement-overview}\n\n## A unified interface for motion tracks\n\n`movement` aims to support all popular animal tracking frameworks and file formats,\nin 2D and 3D, tracking single or multiple animals of any species.\n\nTo achieve this level of versatility, we had to identify what's common across the outputs of motion tracking tools\nand how we can represent them in a standardised way.\n\nWhat we came up with takes the form of collections of multi-dimensional arrays—an `xarray.Dataset` object.\nEach array within a dataset is an `xarray.DataArray` object holding different aspects of the collected data (position, time, confidence scores…).\nYou can think of an `xarray.DataArray` as a multi-dimensional `numpy.ndarray` with pandas-style indexing and labelling.\n\nThis may sound complicated but fear not, we'll build some understanding by exploring some example datasets\nthat are included in the `movement` package.\n\n::: {#931868cb .cell execution_count=3}\n``` {.python .cell-code}\nfrom movement import sample_data\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nDownloading data from 'https://gin.g-node.org/neuroinformatics/movement-test-data/raw/master/metadata.yaml' to file '/Users/nsirmpilatze/.movement/data/temp_metadata.yaml'.\nSHA256 hash of downloaded file: fc04901d84035f6e6897d71f6bf098517170ebce37c31c6a31e45fbdf83dd64b\nUse this value as the 'known_hash' argument of 'pooch.retrieve' to ensure that the file hasn't changed if it is downloaded again in the future.\n```\n:::\n:::\n\n\n### Poses datasets {#sec-movement-ds-poses}\n\nFirst, let's see how `movement` represents pose tracks, like the ones we get with SLEAP.\n\n![The structure of a `movement` poses dataset](img/movement_poses_dataset_card.png){#fig-movement-ds-poses}\n\nLet's load an example dataset and explore its contents.\n\n::: {#f09a73b6 .cell execution_count=4}\n``` {.python .cell-code}\nposes_ds = sample_data.fetch_dataset(\"SLEAP_two-mice_octagon.analysis.h5\")\nposes_ds\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 2MB\nDimensions:      (time: 9000, space: 2, keypoints: 7, individuals: 2)\nCoordinates: (4)\nData variables:\n    position     (time, space, keypoints, individuals) float32 1MB 796.5 ... nan\n    confidence   (time, keypoints, individuals) float32 504kB 0.9292 ... 0.0\nAttributes: (6)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-323d8203-12af-4674-b105-c8f041a7a1f3' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-323d8203-12af-4674-b105-c8f041a7a1f3' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 9000</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-7c73c645-6157-4a46-86b4-02a6dbeeee13' class='xr-section-summary-in' type='checkbox'  ><label for='section-7c73c645-6157-4a46-86b4-02a6dbeeee13' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-1c05cb70-640b-463f-9b78-f8ae9f05c0ca' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1c05cb70-640b-463f-9b78-f8ae9f05c0ca' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-db05b693-c6ad-4612-b421-0b38ad43f717' class='xr-var-data-in' type='checkbox'><label for='data-db05b693-c6ad-4612-b421-0b38ad43f717' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-999be5c2-b6de-4857-a15f-c146537daff1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-999be5c2-b6de-4857-a15f-c146537daff1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f7f3eef4-77be-495b-be26-5f40745ca591' class='xr-var-data-in' type='checkbox'><label for='data-f7f3eef4-77be-495b-be26-5f40745ca591' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;Nose&#x27; &#x27;EarLeft&#x27; ... &#x27;TailBase&#x27;</div><input id='attrs-a6a7a8f5-856f-4fc6-97d6-a7b25807b484' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a6a7a8f5-856f-4fc6-97d6-a7b25807b484' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fdf2e959-07d9-4165-8e68-e867a89a4c1f' class='xr-var-data-in' type='checkbox'><label for='data-fdf2e959-07d9-4165-8e68-e867a89a4c1f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-398158f6-2873-4168-bf60-9e1f597ccb99' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-398158f6-2873-4168-bf60-9e1f597ccb99' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-85a3ee47-1e5a-407c-9628-eda2eb3bb583' class='xr-var-data-in' type='checkbox'><label for='data-85a3ee47-1e5a-407c-9628-eda2eb3bb583' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4d886182-6de5-4528-998d-3531fb3bb624' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4d886182-6de5-4528-998d-3531fb3bb624' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>position</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>796.5 724.5 812.8 ... 539.9 nan</div><input id='attrs-826c9aba-266d-4604-b693-c1f8daf0df1c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-826c9aba-266d-4604-b693-c1f8daf0df1c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-89ebcf32-fde6-46ec-bd81-8e14223c5f88' class='xr-var-data-in' type='checkbox'><label for='data-89ebcf32-fde6-46ec-bd81-8e14223c5f88' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[[ 796.47314 ,  724.50464 ],\n         [ 812.7791  ,  721.03235 ],\n         [ 816.9322  ,  704.87585 ],\n         ...,\n         [ 840.7488  ,  704.7664  ],\n         [ 860.94714 ,  696.9818  ],\n         [ 891.86694 ,  696.5501  ]],\n\n        [[ 843.9411  , 1013.0088  ],\n         [ 853.02704 ,  984.7694  ],\n         [ 836.6645  ,  992.73926 ],\n         ...,\n         [ 852.37103 ,  969.5139  ],\n         [ 852.46027 ,  956.7811  ],\n         [ 852.8248  ,  940.1626  ]]],\n\n\n       [[[ 784.9976  ,  724.7622  ],\n         [ 804.41455 ,  721.14667 ],\n         [ 808.7286  ,  705.17615 ],\n...\n         [ 548.5738  ,  124.4707  ],\n         [ 539.9726  ,         nan]]],\n\n\n       [[[1168.8281  ,  628.0149  ],\n         [1164.842   ,  636.7952  ],\n         [1149.0544  ,  648.0165  ],\n         ...,\n         [1148.6505  ,  656.44324 ],\n         [1140.6172  ,  667.7969  ],\n         [1124.6349  ,         nan]],\n\n        [[ 612.5953  ,   96.91025 ],\n         [ 588.73206 ,  112.90335 ],\n         [ 596.61346 ,   96.67566 ],\n         ...,\n         [ 572.3625  ,  116.7138  ],\n         [ 552.75    ,  124.54907 ],\n         [ 539.917   ,         nan]]]],\n      shape=(9000, 2, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>confidence</span></div><div class='xr-var-dims'>(time, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.9292 0.8582 0.9183 ... 0.8343 0.0</div><input id='attrs-b9d8ec47-6de7-4e25-a945-952f924fe4e9' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b9d8ec47-6de7-4e25-a945-952f924fe4e9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d4c262e0-16c5-450c-9b11-4176c4b39ac9' class='xr-var-data-in' type='checkbox'><label for='data-d4c262e0-16c5-450c-9b11-4176c4b39ac9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[0.9292158 , 0.85823977],\n        [0.91834486, 0.9425898 ],\n        [0.9423268 , 1.0327555 ],\n        ...,\n        [1.0818218 , 1.0189738 ],\n        [0.82583773, 1.0566478 ],\n        [0.61231655, 0.7511665 ]],\n\n       [[0.87165236, 0.87277526],\n        [0.9183895 , 0.91004723],\n        [0.8998653 , 1.0173767 ],\n        ...,\n        [1.0842742 , 1.0057921 ],\n        [0.8515047 , 1.0472274 ],\n        [0.76587516, 0.7506779 ]],\n\n       [[0.83031344, 0.8633507 ],\n        [0.8614834 , 0.9128488 ],\n        [0.8628435 , 1.0143896 ],\n        ...,\n...\n        ...,\n        [0.9772766 , 0.85115355],\n        [0.9786657 , 0.61859107],\n        [0.88060284, 0.        ]],\n\n       [[0.8607382 , 0.5399062 ],\n        [0.9647669 , 0.8537044 ],\n        [0.9817054 , 0.8100933 ],\n        ...,\n        [1.0091084 , 0.8482252 ],\n        [0.9706513 , 0.6101817 ],\n        [0.8690833 , 0.        ]],\n\n       [[0.8661687 , 0.53857213],\n        [0.9934075 , 0.8632442 ],\n        [1.0423936 , 0.81270623],\n        ...,\n        [0.9675762 , 0.8551186 ],\n        [0.9172935 , 0.59800303],\n        [0.83427495, 0.        ]]], shape=(9000, 7, 2), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1cb7f8bd-bd00-4aaa-ac5a-0371d720d253' class='xr-section-summary-in' type='checkbox'  ><label for='section-1cb7f8bd-bd00-4aaa-ac5a-0371d720d253' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b0822ac2-80bc-4bf2-8db1-f8b74e348c1c' class='xr-index-data-in' type='checkbox'/><label for='index-b0822ac2-80bc-4bf2-8db1-f8b74e348c1c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-4f345f5a-7d1d-4fd9-a148-cad77262f7dc' class='xr-index-data-in' type='checkbox'/><label for='index-4f345f5a-7d1d-4fd9-a148-cad77262f7dc' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-a2d8f17f-fd7f-4e05-be16-b54d76026d39' class='xr-index-data-in' type='checkbox'/><label for='index-a2d8f17f-fd7f-4e05-be16-b54d76026d39' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-da3735b7-f515-4164-b79f-b3c63ff92ac0' class='xr-index-data-in' type='checkbox'/><label for='index-da3735b7-f515-4164-b79f-b3c63ff92ac0' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7d916b08-8cd0-4a9e-943f-3edcc7628cb0' class='xr-section-summary-in' type='checkbox'  ><label for='section-7d916b08-8cd0-4a9e-943f-3edcc7628cb0' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>source_software :</span></dt><dd>SLEAP</dd><dt><span>ds_type :</span></dt><dd>poses</dd><dt><span>fps :</span></dt><dd>50.0</dd><dt><span>time_unit :</span></dt><dd>seconds</dd><dt><span>source_file :</span></dt><dd>/Users/nsirmpilatze/.movement/data/poses/SLEAP_two-mice_octagon.analysis.h5</dd><dt><span>frame_path :</span></dt><dd>/Users/nsirmpilatze/.movement/data/frames/two-mice_octagon_frame-10sec.png</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\n### Bounding boxes datasets\n\n`movement` also supports datasets that consist of bounding boxes, like the ones\nwe would get if we performed object detection on a video, followed by\ntracking identities across time.\n\n![The structure of a `movement` bounding boxes dataset](img/movement_bboxes_dataset_card.png){#fig-movement-ds-bboxes}\n\n::: {#3770dce2 .cell execution_count=5}\n``` {.python .cell-code}\nbboxes_ds = sample_data.fetch_dataset(\n    \"VIA_single-crab_MOCA-crab-1_linear-interp.csv\"\n)\n```\n:::\n\n\n::: {#ab705b98 .cell execution_count=6}\n``` {.python .cell-code}\nbboxes_ds\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 8kB\nDimensions:      (time: 168, space: 2, individuals: 1)\nCoordinates: (3)\nData variables:\n    position     (time, space, individuals) float64 3kB 1.118e+03 ... 401.9\n    shape        (time, space, individuals) float64 3kB 320.1 153.2 ... 120.1\n    confidence   (time, individuals) float64 1kB nan nan nan nan ... nan nan nan\nAttributes: (6)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-9b887829-eca1-4c42-87ed-ac5f6b909ca2' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-9b887829-eca1-4c42-87ed-ac5f6b909ca2' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 168</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>individuals</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-79ddd17b-9c39-4692-b004-578f35040182' class='xr-section-summary-in' type='checkbox'  ><label for='section-79ddd17b-9c39-4692-b004-578f35040182' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.04167 0.08333 ... 6.917 6.958</div><input id='attrs-73065ee6-9a33-4efb-8245-617aebdd3be4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-73065ee6-9a33-4efb-8245-617aebdd3be4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1bd4d269-0c90-4ed8-b2fa-3066cf65d455' class='xr-var-data-in' type='checkbox'><label for='data-1bd4d269-0c90-4ed8-b2fa-3066cf65d455' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.      , 0.041667, 0.083333, 0.125   , 0.166667, 0.208333, 0.25    ,\n       0.291667, 0.333333, 0.375   , 0.416667, 0.458333, 0.5     , 0.541667,\n       0.583333, 0.625   , 0.666667, 0.708333, 0.75    , 0.791667, 0.833333,\n       0.875   , 0.916667, 0.958333, 1.      , 1.041667, 1.083333, 1.125   ,\n       1.166667, 1.208333, 1.25    , 1.291667, 1.333333, 1.375   , 1.416667,\n       1.458333, 1.5     , 1.541667, 1.583333, 1.625   , 1.666667, 1.708333,\n       1.75    , 1.791667, 1.833333, 1.875   , 1.916667, 1.958333, 2.      ,\n       2.041667, 2.083333, 2.125   , 2.166667, 2.208333, 2.25    , 2.291667,\n       2.333333, 2.375   , 2.416667, 2.458333, 2.5     , 2.541667, 2.583333,\n       2.625   , 2.666667, 2.708333, 2.75    , 2.791667, 2.833333, 2.875   ,\n       2.916667, 2.958333, 3.      , 3.041667, 3.083333, 3.125   , 3.166667,\n       3.208333, 3.25    , 3.291667, 3.333333, 3.375   , 3.416667, 3.458333,\n       3.5     , 3.541667, 3.583333, 3.625   , 3.666667, 3.708333, 3.75    ,\n       3.791667, 3.833333, 3.875   , 3.916667, 3.958333, 4.      , 4.041667,\n       4.083333, 4.125   , 4.166667, 4.208333, 4.25    , 4.291667, 4.333333,\n       4.375   , 4.416667, 4.458333, 4.5     , 4.541667, 4.583333, 4.625   ,\n       4.666667, 4.708333, 4.75    , 4.791667, 4.833333, 4.875   , 4.916667,\n       4.958333, 5.      , 5.041667, 5.083333, 5.125   , 5.166667, 5.208333,\n       5.25    , 5.291667, 5.333333, 5.375   , 5.416667, 5.458333, 5.5     ,\n       5.541667, 5.583333, 5.625   , 5.666667, 5.708333, 5.75    , 5.791667,\n       5.833333, 5.875   , 5.916667, 5.958333, 6.      , 6.041667, 6.083333,\n       6.125   , 6.166667, 6.208333, 6.25    , 6.291667, 6.333333, 6.375   ,\n       6.416667, 6.458333, 6.5     , 6.541667, 6.583333, 6.625   , 6.666667,\n       6.708333, 6.75    , 6.791667, 6.833333, 6.875   , 6.916667, 6.958333])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-8bcdd8ba-556b-4d90-8aa8-a7fcf9c4ccf6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8bcdd8ba-556b-4d90-8aa8-a7fcf9c4ccf6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-07646316-670d-4dc9-880c-6baab6211e9c' class='xr-var-data-in' type='checkbox'><label for='data-07646316-670d-4dc9-880c-6baab6211e9c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U4</div><div class='xr-var-preview xr-preview'>&#x27;id_1&#x27;</div><input id='attrs-66ba2006-7bab-4898-935b-ca0510d346a1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-66ba2006-7bab-4898-935b-ca0510d346a1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d62b018c-a67f-4fb8-93be-f920c7c194a2' class='xr-var-data-in' type='checkbox'><label for='data-d62b018c-a67f-4fb8-93be-f920c7c194a2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;id_1&#x27;], dtype=&#x27;&lt;U4&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e1bd8237-f1c9-437f-993b-24f5bce755e4' class='xr-section-summary-in' type='checkbox'  checked><label for='section-e1bd8237-f1c9-437f-993b-24f5bce755e4' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>position</span></div><div class='xr-var-dims'>(time, space, individuals)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.118e+03 373.3 ... 614.4 401.9</div><input id='attrs-bc33dece-92fd-40b4-b28b-4eb18f48290a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bc33dece-92fd-40b4-b28b-4eb18f48290a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fc6faeea-a18e-4483-9c12-42e3565b03ee' class='xr-var-data-in' type='checkbox'><label for='data-fc6faeea-a18e-4483-9c12-42e3565b03ee' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[1117.895  ],\n        [ 373.3035 ]],\n\n       [[1113.9442 ],\n        [ 373.8679 ]],\n\n       [[1109.9934 ],\n        [ 374.4323 ]],\n\n       [[1106.0426 ],\n        [ 374.9967 ]],\n\n       [[1102.0918 ],\n        [ 375.5611 ]],\n\n       [[1098.141  ],\n        [ 376.1255 ]],\n\n       [[1093.0615 ],\n        [ 377.8187 ]],\n...\n       [[ 591.6426 ],\n        [ 398.8622 ]],\n\n       [[ 594.7062 ],\n        [ 399.0234 ]],\n\n       [[ 597.7698 ],\n        [ 399.1846 ]],\n\n       [[ 600.8334 ],\n        [ 399.3458 ]],\n\n       [[ 603.897  ],\n        [ 399.507  ]],\n\n       [[ 609.13775],\n        [ 400.7165 ]],\n\n       [[ 614.3785 ],\n        [ 401.926  ]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>shape</span></div><div class='xr-var-dims'>(time, space, individuals)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>320.1 153.2 327.7 ... 249.9 120.1</div><input id='attrs-d9051624-ebdc-466c-9297-4bc6a26843ec' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d9051624-ebdc-466c-9297-4bc6a26843ec' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4bf16df9-0b6e-4a39-ac51-f60ee6c6f778' class='xr-var-data-in' type='checkbox'><label for='data-4bf16df9-0b6e-4a39-ac51-f60ee6c6f778' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[320.09  ],\n        [153.191 ]],\n\n       [[327.6688],\n        [154.3198]],\n\n       [[335.2476],\n        [155.4486]],\n\n       [[342.8264],\n        [156.5774]],\n\n       [[350.4052],\n        [157.7062]],\n\n       [[357.984 ],\n        [158.835 ]],\n\n       [[359.7578],\n        [159.6414]],\n...\n       [[249.2988],\n        [121.4236]],\n\n       [[248.6536],\n        [121.1012]],\n\n       [[248.0084],\n        [120.7788]],\n\n       [[247.3632],\n        [120.4564]],\n\n       [[246.718 ],\n        [120.134 ]],\n\n       [[248.3315],\n        [120.134 ]],\n\n       [[249.945 ],\n        [120.134 ]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>confidence</span></div><div class='xr-var-dims'>(time, individuals)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-350568c6-b606-4079-b10c-95e458fa227f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-350568c6-b606-4079-b10c-95e458fa227f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a8cc95d3-339e-4e27-a985-071ec361cef4' class='xr-var-data-in' type='checkbox'><label for='data-a8cc95d3-339e-4e27-a985-071ec361cef4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n...\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan],\n       [nan]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ae51d921-1d4a-4500-ae16-4d15b6031b09' class='xr-section-summary-in' type='checkbox'  ><label for='section-ae51d921-1d4a-4500-ae16-4d15b6031b09' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-30d0b4ac-18f9-40e5-ace4-84fbcd237d05' class='xr-index-data-in' type='checkbox'/><label for='index-30d0b4ac-18f9-40e5-ace4-84fbcd237d05' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([                 0.0, 0.041666666666666664,  0.08333333333333333,\n                      0.125,  0.16666666666666666,  0.20833333333333334,\n                       0.25,   0.2916666666666667,   0.3333333333333333,\n                      0.375,\n       ...\n          6.583333333333333,                6.625,    6.666666666666667,\n          6.708333333333333,                 6.75,    6.791666666666667,\n          6.833333333333333,                6.875,    6.916666666666667,\n          6.958333333333333],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=168))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-5f6efbf2-41a4-458b-961b-6ee733e8f69c' class='xr-index-data-in' type='checkbox'/><label for='index-5f6efbf2-41a4-458b-961b-6ee733e8f69c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-97f7fafc-1816-4dd5-b13a-88a4fadf1f81' class='xr-index-data-in' type='checkbox'/><label for='index-97f7fafc-1816-4dd5-b13a-88a4fadf1f81' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;id_1&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-601bdcd7-a551-4673-9d81-d15a840e108c' class='xr-section-summary-in' type='checkbox'  ><label for='section-601bdcd7-a551-4673-9d81-d15a840e108c' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>source_software :</span></dt><dd>VIA-tracks</dd><dt><span>ds_type :</span></dt><dd>bboxes</dd><dt><span>fps :</span></dt><dd>24.0</dd><dt><span>time_unit :</span></dt><dd>seconds</dd><dt><span>source_file :</span></dt><dd>/Users/nsirmpilatze/.movement/data/bboxes/VIA_single-crab_MOCA-crab-1_linear-interp.csv</dd><dt><span>frame_path :</span></dt><dd>/Users/nsirmpilatze/.movement/data/frames/single-crab_MOCA-crab-1_frame-0.jpg</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\n::: {.callout-tip title=\"Discuss\"}\n\n- What are some limitations of `movement`'s approach? What kinds of data cannot be accommodated?\n- Can you think of alternative ways of representing these data?\n\nSee the [documentation on movement datasets](https://movement.neuroinformatics.dev/user_guide/movement_dataset.html) for more details\non `movement` data structures.\n:::\n\n### Working with xarray objects\n\nSince `movement` represents motion tracking data as `xarray` objects, we can use all of `xarray`'s intuitive interface and rich\n[built-in functionalities](https://movement.neuroinformatics.dev/user_guide/movement_dataset.html#using-xarrays-built-in-functionality)\nfor data manipulation and analysis.\n\nAccessing data variables and attributes (metadata) is straightforward:\n\n::: {#e140ac99 .cell execution_count=7}\n``` {.python .cell-code}\nprint(f\"Source software: {poses_ds.source_software}\")\nprint(f\"Frames per second: {poses_ds.fps}\")\n\nposes_ds.position\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSource software: SLEAP\nFrames per second: 50.0\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;position&#x27; (time: 9000, space: 2, keypoints: 7, individuals: 2)&gt; Size: 1MB\n796.5 724.5 812.8 721.0 816.9 704.9 821.1 ... 572.4 116.7 552.8 124.5 539.9 nan\nCoordinates: (4)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'position'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 9000</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-b8f5a068-b6f5-4034-b835-b8a320dc9067' class='xr-array-in' type='checkbox' ><label for='section-b8f5a068-b6f5-4034-b835-b8a320dc9067' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>796.5 724.5 812.8 721.0 816.9 704.9 ... 116.7 552.8 124.5 539.9 nan</span></div><div class='xr-array-data'><pre>array([[[[ 796.47314 ,  724.50464 ],\n         [ 812.7791  ,  721.03235 ],\n         [ 816.9322  ,  704.87585 ],\n         ...,\n         [ 840.7488  ,  704.7664  ],\n         [ 860.94714 ,  696.9818  ],\n         [ 891.86694 ,  696.5501  ]],\n\n        [[ 843.9411  , 1013.0088  ],\n         [ 853.02704 ,  984.7694  ],\n         [ 836.6645  ,  992.73926 ],\n         ...,\n         [ 852.37103 ,  969.5139  ],\n         [ 852.46027 ,  956.7811  ],\n         [ 852.8248  ,  940.1626  ]]],\n\n\n       [[[ 784.9976  ,  724.7622  ],\n         [ 804.41455 ,  721.14667 ],\n         [ 808.7286  ,  705.17615 ],\n...\n         [ 548.5738  ,  124.4707  ],\n         [ 539.9726  ,         nan]]],\n\n\n       [[[1168.8281  ,  628.0149  ],\n         [1164.842   ,  636.7952  ],\n         [1149.0544  ,  648.0165  ],\n         ...,\n         [1148.6505  ,  656.44324 ],\n         [1140.6172  ,  667.7969  ],\n         [1124.6349  ,         nan]],\n\n        [[ 612.5953  ,   96.91025 ],\n         [ 588.73206 ,  112.90335 ],\n         [ 596.61346 ,   96.67566 ],\n         ...,\n         [ 572.3625  ,  116.7138  ],\n         [ 552.75    ,  124.54907 ],\n         [ 539.917   ,         nan]]]],\n      shape=(9000, 2, 7, 2), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-92a66125-3caa-4468-88aa-d73849060527' class='xr-section-summary-in' type='checkbox'  ><label for='section-92a66125-3caa-4468-88aa-d73849060527' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-5c705a1c-1212-4d06-ba87-edc832490735' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5c705a1c-1212-4d06-ba87-edc832490735' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2c022c1d-0a69-42d5-b48e-662e32f2c2a5' class='xr-var-data-in' type='checkbox'><label for='data-2c022c1d-0a69-42d5-b48e-662e32f2c2a5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-48e2af23-c0d2-4b72-9f50-059fb8fb74ae' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-48e2af23-c0d2-4b72-9f50-059fb8fb74ae' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d7dac0ff-416d-4d7f-897c-2bfdfa66d96a' class='xr-var-data-in' type='checkbox'><label for='data-d7dac0ff-416d-4d7f-897c-2bfdfa66d96a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;Nose&#x27; &#x27;EarLeft&#x27; ... &#x27;TailBase&#x27;</div><input id='attrs-2d060d7f-1909-44c0-8873-07153de34bdf' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2d060d7f-1909-44c0-8873-07153de34bdf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-dd174b35-0f18-446c-b776-2575d7e096c7' class='xr-var-data-in' type='checkbox'><label for='data-dd174b35-0f18-446c-b776-2575d7e096c7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-bafe7c85-123f-472b-8df3-b43b2412541b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bafe7c85-123f-472b-8df3-b43b2412541b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ac64de55-00a2-4e77-b71c-32fd774fe701' class='xr-var-data-in' type='checkbox'><label for='data-ac64de55-00a2-4e77-b71c-32fd774fe701' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-21d67b7a-fc1c-4310-9498-0bfa5946d042' class='xr-section-summary-in' type='checkbox'  ><label for='section-21d67b7a-fc1c-4310-9498-0bfa5946d042' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-9a71ea42-3382-4100-97c1-a5ce52bc05a3' class='xr-index-data-in' type='checkbox'/><label for='index-9a71ea42-3382-4100-97c1-a5ce52bc05a3' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-df6fd0fd-f97e-4b8d-bcc6-4bdc6e65124b' class='xr-index-data-in' type='checkbox'/><label for='index-df6fd0fd-f97e-4b8d-bcc6-4bdc6e65124b' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-6a6dc069-7ec4-4038-986d-0733a67055be' class='xr-index-data-in' type='checkbox'/><label for='index-6a6dc069-7ec4-4038-986d-0733a67055be' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-6b564593-bc15-485e-a18b-58b6088c0763' class='xr-index-data-in' type='checkbox'/><label for='index-6b564593-bc15-485e-a18b-58b6088c0763' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-23e8c87b-efb7-4e8b-9008-52d1cb527246' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-23e8c87b-efb7-4e8b-9008-52d1cb527246' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nWe can select a subset of data along any dimension in a variety of ways:\nby integer index (order) or coordinate label.\n\n::: {#02927d2d .cell execution_count=8}\n``` {.python .cell-code}\n# First individual, first time point\nposes_ds.position.isel(individuals=0, time=0)\n\n# 0-10 seconds, two specific keypoints\nposes_ds.position.sel(time=slice(0, 10), keypoints=[\"EarLeft\", \"EarRight\"])\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;position&#x27; (time: 501, space: 2, keypoints: 2, individuals: 2)&gt; Size: 16kB\n812.8 721.0 816.9 704.9 853.0 984.8 ... 359.9 340.0 852.2 811.8 835.9 800.6\nCoordinates: (4)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'position'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 501</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 2</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-8719cd58-7d3e-477d-a8f1-ec5e193956a8' class='xr-array-in' type='checkbox' ><label for='section-8719cd58-7d3e-477d-a8f1-ec5e193956a8' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>812.8 721.0 816.9 704.9 853.0 984.8 ... 340.0 852.2 811.8 835.9 800.6</span></div><div class='xr-array-data'><pre>array([[[[812.7791 , 721.03235],\n         [816.9322 , 704.87585]],\n\n        [[853.02704, 984.7694 ],\n         [836.6645 , 992.73926]]],\n\n\n       [[[804.41455, 721.14667],\n         [808.7286 , 705.17615]],\n\n        [[852.35284, 984.18274],\n         [836.1602 , 992.3926 ]]],\n\n\n       [[[795.77686, 721.2672 ],\n         [800.2279 , 705.41705]],\n\n        [[849.3385 , 980.82336],\n         [833.1362 , 988.9888 ]]],\n\n...\n\n       [[[364.0884 , 356.805  ],\n         [359.95502, 340.36093]],\n\n        [[851.93097, 812.11383],\n         [835.68134, 804.3751 ]]],\n\n\n       [[[364.20483, 356.02448],\n         [360.05804, 340.04025]],\n\n        [[852.05334, 811.99725],\n         [835.7557 , 800.7991 ]]],\n\n\n       [[[364.10153, 355.91064],\n         [359.89383, 339.9605 ]],\n\n        [[852.17737, 811.76544],\n         [835.8717 , 800.5599 ]]]], shape=(501, 2, 2, 2), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-18a67e11-69ec-4a33-9f45-9651ba512995' class='xr-section-summary-in' type='checkbox'  ><label for='section-18a67e11-69ec-4a33-9f45-9651ba512995' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 9.96 9.98 10.0</div><input id='attrs-124699ec-e4d0-4734-b2dc-e5f3eab7aab3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-124699ec-e4d0-4734-b2dc-e5f3eab7aab3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-07bf0ff5-4aa4-4ff1-8366-2c538626d582' class='xr-var-data-in' type='checkbox'><label for='data-07bf0ff5-4aa4-4ff1-8366-2c538626d582' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 0.  ,  0.02,  0.04, ...,  9.96,  9.98, 10.  ], shape=(501,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-b869ba39-795d-48c2-9156-2327e4ba41bd' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b869ba39-795d-48c2-9156-2327e4ba41bd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d6806185-29b5-47d6-a2fa-dcf078b7e168' class='xr-var-data-in' type='checkbox'><label for='data-d6806185-29b5-47d6-a2fa-dcf078b7e168' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;EarLeft&#x27; &#x27;EarRight&#x27;</div><input id='attrs-1ad362fc-59a5-4350-8ae5-74a3e4f019fc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-1ad362fc-59a5-4350-8ae5-74a3e4f019fc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5c3b3c4c-e341-4292-a2a9-833ba9b1d27a' class='xr-var-data-in' type='checkbox'><label for='data-5c3b3c4c-e341-4292-a2a9-833ba9b1d27a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;EarLeft&#x27;, &#x27;EarRight&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-b9d5556f-0a99-4bc5-b89f-271f1b7bdd38' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b9d5556f-0a99-4bc5-b89f-271f1b7bdd38' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d1933b87-dab6-4f56-94a4-646060eea40a' class='xr-var-data-in' type='checkbox'><label for='data-d1933b87-dab6-4f56-94a4-646060eea40a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a7d8e0c4-d049-48e9-80a7-34f00f2a0bf3' class='xr-section-summary-in' type='checkbox'  ><label for='section-a7d8e0c4-d049-48e9-80a7-34f00f2a0bf3' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-1c7915fb-bc2a-4a5f-a6c4-d2e6f0e02316' class='xr-index-data-in' type='checkbox'/><label for='index-1c7915fb-bc2a-4a5f-a6c4-d2e6f0e02316' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 0.0, 0.02, 0.04, 0.06, 0.08,  0.1, 0.12, 0.14, 0.16, 0.18,\n       ...\n       9.82, 9.84, 9.86, 9.88,  9.9, 9.92, 9.94, 9.96, 9.98, 10.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=501))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-85f0a252-2fcc-4984-85e2-27fd8dff0458' class='xr-index-data-in' type='checkbox'/><label for='index-85f0a252-2fcc-4984-85e2-27fd8dff0458' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-8f2abe73-7be0-4535-a212-494ffd5d6a9a' class='xr-index-data-in' type='checkbox'/><label for='index-8f2abe73-7be0-4535-a212-494ffd5d6a9a' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;EarLeft&#x27;, &#x27;EarRight&#x27;], dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-697e835d-bf8d-498c-a6a2-82e1a16260b6' class='xr-index-data-in' type='checkbox'/><label for='index-697e835d-bf8d-498c-a6a2-82e1a16260b6' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0703954e-58e7-40c6-bb57-a025aa4c237d' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0703954e-58e7-40c6-bb57-a025aa4c237d' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nWe can also do all sorts of [computations](https://docs.xarray.dev/en/stable/user-guide/computation.html)\non the data, along any dimension.\n\n::: {#5cca44b8 .cell execution_count=9}\n``` {.python .cell-code}\n# Each point's median confidence score across time\nposes_ds.confidence.median(dim=\"time\")\n\n# Take the block mean for every 10 frames.\nposes_ds.position.coarsen(time=10, boundary=\"trim\").mean()\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;position&#x27; (time: 900, space: 2, keypoints: 7, individuals: 2)&gt; Size: 101kB\n757.0 733.4 771.6 725.0 779.1 711.3 ... 553.9 116.5 544.9 124.2 541.0 128.6\nCoordinates: (4)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'position'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 900</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-45678683-3ce5-485d-b260-5f1be1f800d2' class='xr-array-in' type='checkbox' ><label for='section-45678683-3ce5-485d-b260-5f1be1f800d2' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>757.0 733.4 771.6 725.0 779.1 711.3 ... 116.5 544.9 124.2 541.0 128.6</span></div><div class='xr-array-data'><pre>array([[[[ 756.962   ,  733.3821  ],\n         [ 771.5825  ,  724.9951  ],\n         [ 779.1285  ,  711.3096  ],\n         ...,\n         [ 798.9844  ,  707.4451  ],\n         [ 818.64166 ,  698.38007 ],\n         [ 848.1536  ,  695.7847  ]],\n\n        [[ 824.01636 , 1003.74567 ],\n         [ 838.2208  ,  979.5837  ],\n         [ 823.0009  ,  989.7912  ],\n         ...,\n         [ 841.6796  ,  968.4575  ],\n         [ 844.6781  ,  955.7819  ],\n         [ 848.83325 ,  938.32935 ]]],\n\n\n       [[[ 682.5006  ,  767.1878  ],\n         [ 694.0696  ,  751.6518  ],\n         [ 704.2795  ,  747.1867  ],\n...\n         [ 544.6389  ,  124.39598 ],\n         [ 542.1672  ,         nan]]],\n\n\n       [[[1177.5676  ,  626.08044 ],\n         [1165.5343  ,  636.6763  ],\n         [1157.4653  ,  645.02875 ],\n         ...,\n         [1147.251   ,  656.4906  ],\n         [1135.7996  ,  667.9657  ],\n         [1119.3905  ,  680.6386  ]],\n\n        [[ 577.2025  ,   99.16615 ],\n         [ 558.778   ,  112.888275],\n         [ 572.0012  ,   99.46965 ],\n         ...,\n         [ 553.9388  ,  116.50942 ],\n         [ 544.8991  ,  124.15985 ],\n         [ 541.02795 ,  128.59134 ]]]],\n      shape=(900, 2, 7, 2), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-d6807b93-d0cb-4b80-842d-a989fc069126' class='xr-section-summary-in' type='checkbox'  ><label for='section-d6807b93-d0cb-4b80-842d-a989fc069126' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.09 0.29 0.49 ... 179.7 179.9</div><input id='attrs-4f17599d-5221-4e76-a588-5cbc349bd92f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4f17599d-5221-4e76-a588-5cbc349bd92f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-44da6103-5d34-4423-ac63-02e57b82207a' class='xr-var-data-in' type='checkbox'><label for='data-44da6103-5d34-4423-ac63-02e57b82207a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([9.0000e-02, 2.9000e-01, 4.9000e-01, ..., 1.7949e+02, 1.7969e+02,\n       1.7989e+02], shape=(900,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-967f2221-6550-43eb-97ea-2465cd2bd279' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-967f2221-6550-43eb-97ea-2465cd2bd279' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8cc790b7-42a1-44fb-b87e-16f209bf87f3' class='xr-var-data-in' type='checkbox'><label for='data-8cc790b7-42a1-44fb-b87e-16f209bf87f3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;Nose&#x27; &#x27;EarLeft&#x27; ... &#x27;TailBase&#x27;</div><input id='attrs-f06d0409-08cc-467b-889a-d4aeca358a0c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f06d0409-08cc-467b-889a-d4aeca358a0c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c899cf26-5e81-4114-9f63-e367c2effa79' class='xr-var-data-in' type='checkbox'><label for='data-c899cf26-5e81-4114-9f63-e367c2effa79' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-f0309885-d69b-4f0f-a3da-786e38cebf99' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f0309885-d69b-4f0f-a3da-786e38cebf99' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9e866172-5eef-4259-b740-8036ef6948ab' class='xr-var-data-in' type='checkbox'><label for='data-9e866172-5eef-4259-b740-8036ef6948ab' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0e4a31e2-1607-439c-a055-34bb8e259508' class='xr-section-summary-in' type='checkbox'  ><label for='section-0e4a31e2-1607-439c-a055-34bb8e259508' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-2b82c2a3-ba43-4236-98ce-556211c35332' class='xr-index-data-in' type='checkbox'/><label for='index-2b82c2a3-ba43-4236-98ce-556211c35332' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([0.09000000000000001,                0.29, 0.49000000000000005,\n        0.6900000000000001,                0.89,                1.09,\n        1.2899999999999998,  1.4899999999999998,  1.6900000000000002,\n                      1.89,\n       ...\n                    178.09,  178.29000000000002,  178.48999999999998,\n                    178.69,  178.89000000000004,              179.09,\n        179.29000000000002,  179.48999999999998,              179.69,\n        179.89000000000004],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=900))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-57a03dcd-0b54-4a17-a020-718f56a75e43' class='xr-index-data-in' type='checkbox'/><label for='index-57a03dcd-0b54-4a17-a020-718f56a75e43' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-5cf90364-91cd-4f92-af83-33ddbc990a8f' class='xr-index-data-in' type='checkbox'/><label for='index-5cf90364-91cd-4f92-af83-33ddbc990a8f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-af6b9286-a111-4782-8f7b-e37bf24a71e7' class='xr-index-data-in' type='checkbox'/><label for='index-af6b9286-a111-4782-8f7b-e37bf24a71e7' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4dc76ca9-391e-461d-ac07-50c7ea3429cf' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-4dc76ca9-391e-461d-ac07-50c7ea3429cf' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\n`xarray` also provides a rich set of built-in [plotting methods](https://docs.xarray.dev/en/stable/user-guide/plotting.html)\nfor visualising the data.\n\n::: {#cell-fig-plot-tail-base-pos .cell execution_count=10}\n``` {.python .cell-code}\nfrom matplotlib import pyplot as plt\n\ntail_base_pos = poses_ds.sel(keypoints=\"TailBase\").position\ntail_base_pos.plot.line(\n    x=\"time\", row=\"individuals\", hue=\"space\", aspect=2, size=2.5\n)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![The x,y spatial coordinates of the TailBase keypoint across time](04-movement-intro_files/figure-html/fig-plot-tail-base-pos-output-1.png){#fig-plot-tail-base-pos}\n:::\n:::\n\n\nYou can also combine those with `matplotlib` figures.\n\n::: {#cell-fig-plot-confidence-histograms .cell execution_count=11}\n``` {.python .cell-code}\ncolors = plt.cm.tab10.colors\n\nfig, ax = plt.subplots()\nfor kp, color in zip(poses_ds.keypoints, colors):\n    data = poses_ds.confidence.sel(keypoints=kp)\n    data.plot.hist(\n        bins=50, histtype=\"step\", density=True, ax=ax, color=color, label=kp\n    )\nax.set_ylabel(\"Density\")\nax.set_title(\"Confidence histograms per keypoint\")\nplt.legend()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Confidence histograms per keypoint](04-movement-intro_files/figure-html/fig-plot-confidence-histograms-output-1.png){#fig-plot-confidence-histograms}\n:::\n:::\n\n\nYou may also want to export date to structures you may be more familiar with,\nsuch as\n[Pandas DataFrames](https://docs.xarray.dev/en/stable/user-guide/pandas.html)\nor [NumPy arrays](https://docs.xarray.dev/en/stable/user-guide/duckarrays.html).\n\nExport the position data array as a pandas DataFrame:\n\n::: {#dcceaef5 .cell execution_count=12}\n``` {.python .cell-code}\nposition_df = poses_ds.position.to_dataframe(\n    dim_order=[\"time\", \"individuals\", \"keypoints\", \"space\"]\n)\nposition_df.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th>position</th>\n    </tr>\n    <tr>\n      <th>time</th>\n      <th>individuals</th>\n      <th>keypoints</th>\n      <th>space</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th rowspan=\"5\" valign=\"top\">0.0</th>\n      <th rowspan=\"5\" valign=\"top\">1</th>\n      <th rowspan=\"2\" valign=\"top\">Nose</th>\n      <th>x</th>\n      <td>796.473145</td>\n    </tr>\n    <tr>\n      <th>y</th>\n      <td>843.941101</td>\n    </tr>\n    <tr>\n      <th rowspan=\"2\" valign=\"top\">EarLeft</th>\n      <th>x</th>\n      <td>812.779114</td>\n    </tr>\n    <tr>\n      <th>y</th>\n      <td>853.027039</td>\n    </tr>\n    <tr>\n      <th>EarRight</th>\n      <th>x</th>\n      <td>816.932190</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nExport data variables or coordinates as numpy arrays:\n\n::: {#bb4895b8 .cell execution_count=13}\n``` {.python .cell-code}\nposition_array = poses_ds.position.values\nprint(f\"Position array shape: {position_array.shape}\")\n\ntime_array = poses_ds.time.values\nprint(f\"Time array shape: {time_array.shape}\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nPosition array shape: (9000, 2, 7, 2)\nTime array shape: (9000,)\n```\n:::\n:::\n\n\nFor saving datasets to disk, we recommend leveraging `xarray`'s built-in\n[support for the netCDF file format](https://docs.xarray.dev/en/stable/user-guide/io.html#netcdf).\n\n```{.python}\nimport xarray as xr\n\n# To save a dataset to disk\nposes_ds.to_netcdf(\"poses_ds.nc\")\n\n# To load the dataset back from memory\nposes_ds = xr.open_dataset(\"poses_ds.nc\")\n```\n\n## Load and explore data {#sec-movement-load}\n\nAs stated above, our goal with `movement` is to enable pipelines that are input-agnostic,\nmeaning they are not tied to a specific motion tracking tool or data format.\nTherefore, `movement` offers input/output functions that facilitate data flows\nbetween various motion tracking frameworks and `movement`'s own `xarray` data structure.\n\nPlease refer to the [Input/Output section](https://movement.neuroinformatics.dev/user_guide/input_output.html)\nof the `movement` documentation for more details, including a full list of\nsupported formats.\n\n::: {.callout-tip title=\"Exercise A\"}\n\n1. Load the predictions you generated in @sec-sleap into a `movement` dataset. Alternatively, feel free to work with the `CalMS21/mouse044_task1_annotator1.slp` file from Dropbox (refer to [prerequisites @sec-data]) or any of `movement`'s [sample datasets](https://movement.neuroinformatics.dev/user_guide/input_output.html#sample-data).\n2. Compute the overall minimum and maximum x,y positions.\n3. Select a narrow time window (e.g. 10 seconds) and plot the x, y positions of a certain keypoint across time.\n4. Plot the centroid trajectory of a given individual across time.\n\n__Bonus:__ Overlay the centroid trajectory (task 4) on top of a frame extracted from the video.\nYou may find inspiration in the [\"Pupil tracking\" example](https://movement.neuroinformatics.dev/examples/mouse_eye_movements.html).\n\nUseful resources:\n\n- [Input/Output guide](https://movement.neuroinformatics.dev/user_guide/input_output.html)\n- [The \"Load and explore pose tracks\" example](https://movement.neuroinformatics.dev/examples/load_and_explore_poses.html)\n- [`plot_centroid_trajectory()` function](https://movement.neuroinformatics.dev/api/movement.plots.plot_centroid_trajectory.html)\n\n:::\n\n::: {.content-visible when-profile=\"answers\"}\n\n::: {.callout-tip title=\"Click to reveal the answers\" collapse=\"true\"}\n\nLoading pose tracks from a file:\n\n::: {#a2f8b9d4 .cell execution_count=14}\n``` {.python .cell-code}\nfrom pathlib import Path\nfrom movement.io import load_poses\n\nfile_name = \"mouse044_task1_annotator1.slp\"\nfile_path = Path.home() / \".movement\" / \"CalMS21\" / file_name\n\nds = load_poses.from_file(file_path, source_software=\"SLEAP\", fps=30)\nds\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 598kB\nDimensions:      (time: 3394, space: 2, keypoints: 7, individuals: 2)\nCoordinates: (4)\nData variables:\n    position     (time, space, keypoints, individuals) float32 380kB 854.4 .....\n    confidence   (time, keypoints, individuals) float32 190kB nan nan ... nan\nAttributes: (5)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-2972b2c2-fa8a-44bc-93f2-da80ed817895' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-2972b2c2-fa8a-44bc-93f2-da80ed817895' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 3394</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-971eaa8e-7aa6-44d0-bad2-55db883bfd59' class='xr-section-summary-in' type='checkbox'  ><label for='section-971eaa8e-7aa6-44d0-bad2-55db883bfd59' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.03333 0.06667 ... 113.1 113.1</div><input id='attrs-d5718e47-436b-469b-b878-c745e256f891' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d5718e47-436b-469b-b878-c745e256f891' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4fe1de3e-91b2-4af3-9d37-32b31e8db820' class='xr-var-data-in' type='checkbox'><label for='data-4fe1de3e-91b2-4af3-9d37-32b31e8db820' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.000000e+00, 3.333333e-02, 6.666667e-02, ..., 1.130333e+02,\n       1.130667e+02, 1.131000e+02], shape=(3394,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-f9441c85-18a1-4e54-92ff-43c1f6a8b504' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f9441c85-18a1-4e54-92ff-43c1f6a8b504' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-af17253b-5936-4a2b-88df-d7b96dfe2d51' class='xr-var-data-in' type='checkbox'><label for='data-af17253b-5936-4a2b-88df-d7b96dfe2d51' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;nose&#x27; &#x27;right_ear&#x27; ... &#x27;tail_base&#x27;</div><input id='attrs-06874f36-527f-4ddc-9cc3-9f5d44c15fa2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-06874f36-527f-4ddc-9cc3-9f5d44c15fa2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-459a0c03-754d-4f6b-9576-9bbd6d3b2873' class='xr-var-data-in' type='checkbox'><label for='data-459a0c03-754d-4f6b-9576-9bbd6d3b2873' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;nose&#x27;, &#x27;right_ear&#x27;, &#x27;left_ear&#x27;, &#x27;neck&#x27;, &#x27;right_hip&#x27;, &#x27;left_hip&#x27;,\n       &#x27;tail_base&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U10</div><div class='xr-var-preview xr-preview'>&#x27;resident_b&#x27; &#x27;intruder_w&#x27;</div><input id='attrs-ee3464d2-9ec5-442f-b010-73cd1fe261f0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ee3464d2-9ec5-442f-b010-73cd1fe261f0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3477425b-dcbc-4072-89be-d90065221e43' class='xr-var-data-in' type='checkbox'><label for='data-3477425b-dcbc-4072-89be-d90065221e43' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;resident_b&#x27;, &#x27;intruder_w&#x27;], dtype=&#x27;&lt;U10&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-046ec38b-e929-42f0-ae2c-a28fb660b3e0' class='xr-section-summary-in' type='checkbox'  checked><label for='section-046ec38b-e929-42f0-ae2c-a28fb660b3e0' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>position</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>854.4 736.3 807.4 ... 129.1 522.5</div><input id='attrs-83cbda24-53b6-4160-9c73-88f99db2eb96' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-83cbda24-53b6-4160-9c73-88f99db2eb96' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c6024507-79e3-4760-afa5-7f74a51ec2d1' class='xr-var-data-in' type='checkbox'><label for='data-c6024507-79e3-4760-afa5-7f74a51ec2d1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[[854.4422 , 736.25885],\n         [807.4422 , 752.25885],\n         [833.4422 , 804.25885],\n         ...,\n         [734.4422 , 775.25885],\n         [785.4422 , 779.25885],\n         [721.4422 , 815.25885]],\n\n        [[441.49527, 519.94037],\n         [437.49527, 471.9404 ],\n         [395.49527, 492.9404 ],\n         ...,\n         [405.49527, 420.9404 ],\n         [336.49527, 419.9404 ],\n         [336.49527, 385.9404 ]]],\n\n\n       [[[858.35284, 716.67053],\n         [810.35284, 752.67053],\n         [836.35284, 798.67053],\n...\n         [105.46051, 486.70868],\n         [170.46051, 486.70868],\n         [124.46051, 521.7087 ]]],\n\n\n       [[[162.83447, 892.6651 ],\n         [189.83447, 899.6651 ],\n         [223.83447, 839.6651 ],\n         ...,\n         [304.83447, 908.6651 ],\n         [315.83447, 840.6651 ],\n         [375.83447, 872.6651 ]],\n\n        [[209.14272, 359.4882 ],\n         [159.14272, 424.4882 ],\n         [206.14272, 403.4882 ],\n         ...,\n         [107.14272, 487.4882 ],\n         [173.14272, 487.4882 ],\n         [129.14272, 522.48816]]]], shape=(3394, 2, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>confidence</span></div><div class='xr-var-dims'>(time, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-bc9bc479-1d27-4b20-ab46-b7c0a8f6fb41' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bc9bc479-1d27-4b20-ab46-b7c0a8f6fb41' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-404b4324-32d8-412e-a48d-5d230b7e5a73' class='xr-var-data-in' type='checkbox'><label for='data-404b4324-32d8-412e-a48d-5d230b7e5a73' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[nan, nan],\n        [nan, nan],\n        [nan, nan],\n        ...,\n        [nan, nan],\n        [nan, nan],\n        [nan, nan]],\n\n       [[nan, nan],\n        [nan, nan],\n        [nan, nan],\n        ...,\n        [nan, nan],\n        [nan, nan],\n        [nan, nan]],\n\n       [[nan, nan],\n        [nan, nan],\n        [nan, nan],\n        ...,\n...\n        ...,\n        [nan, nan],\n        [nan, nan],\n        [nan, nan]],\n\n       [[nan, nan],\n        [nan, nan],\n        [nan, nan],\n        ...,\n        [nan, nan],\n        [nan, nan],\n        [nan, nan]],\n\n       [[nan, nan],\n        [nan, nan],\n        [nan, nan],\n        ...,\n        [nan, nan],\n        [nan, nan],\n        [nan, nan]]], shape=(3394, 7, 2), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fe3c5d51-5d42-45ed-9264-93191c58378e' class='xr-section-summary-in' type='checkbox'  ><label for='section-fe3c5d51-5d42-45ed-9264-93191c58378e' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b52fd893-2234-4797-bc08-be5b14b1bc6d' class='xr-index-data-in' type='checkbox'/><label for='index-b52fd893-2234-4797-bc08-be5b14b1bc6d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([                0.0, 0.03333333333333333, 0.06666666666666667,\n                       0.1, 0.13333333333333333, 0.16666666666666666,\n                       0.2, 0.23333333333333334, 0.26666666666666666,\n                       0.3,\n       ...\n                     112.8,  112.83333333333333,  112.86666666666666,\n                     112.9,  112.93333333333334,  112.96666666666667,\n                     113.0,  113.03333333333333,  113.06666666666666,\n                     113.1],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=3394))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-a5529d49-2ab5-452c-8409-afde13965fee' class='xr-index-data-in' type='checkbox'/><label for='index-a5529d49-2ab5-452c-8409-afde13965fee' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-5afd3143-f623-4e74-85d8-e02318a65e03' class='xr-index-data-in' type='checkbox'/><label for='index-5afd3143-f623-4e74-85d8-e02318a65e03' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;nose&#x27;, &#x27;right_ear&#x27;, &#x27;left_ear&#x27;, &#x27;neck&#x27;, &#x27;right_hip&#x27;, &#x27;left_hip&#x27;,\n       &#x27;tail_base&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-0b7a5454-f536-4140-a1f2-bf5e2ce52ef8' class='xr-index-data-in' type='checkbox'/><label for='index-0b7a5454-f536-4140-a1f2-bf5e2ce52ef8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;resident_b&#x27;, &#x27;intruder_w&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-c70843dc-ca4f-4a49-b29e-c26b541715f7' class='xr-section-summary-in' type='checkbox'  ><label for='section-c70843dc-ca4f-4a49-b29e-c26b541715f7' class='xr-section-summary' >Attributes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>source_software :</span></dt><dd>SLEAP</dd><dt><span>ds_type :</span></dt><dd>poses</dd><dt><span>fps :</span></dt><dd>30.0</dd><dt><span>time_unit :</span></dt><dd>seconds</dd><dt><span>source_file :</span></dt><dd>/Users/nsirmpilatze/.movement/CalMS21/mouse044_task1_annotator1.slp</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nComputing the minimum and maximum x,y positions:\n\n::: {#9cb1a715 .cell execution_count=15}\n``` {.python .cell-code}\nfor space_coord in [\"x\", \"y\"]:\n    min_pos = ds.position.sel(space=space_coord).min().values\n    max_pos = ds.position.sel(space=space_coord).max().values\n    print(f\"Min-Max {space_coord} positions: {min_pos:.2f}-{max_pos:.2f}\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMin-Max x positions: 83.79-988.99\nMin-Max y positions: 64.72-563.30\n```\n:::\n:::\n\n\nPlotting the x,y positions of a certain keypoint across time, within a narrow time window:\n\n::: {#76e40431 .cell execution_count=16}\n``` {.python .cell-code}\nds.position.sel(keypoints=\"tail_base\", time=slice(0, 10)).plot.line(\n    x=\"time\", row=\"individuals\", hue=\"space\", aspect=2, size=2.5\n)\n```\n\n::: {.cell-output .cell-output-display}\n![](04-movement-intro_files/figure-html/cell-16-output-1.png){}\n:::\n:::\n\n\nPlotting the centroid trajectory:\n\n::: {#1a332c78 .cell execution_count=17}\n``` {.python .cell-code}\nfrom movement.plots import plot_centroid_trajectory\n\nfig, ax = plt.subplots(figsize=(8, 4))\nplot_centroid_trajectory(ds.position, individual=\"resident_b\", ax=ax)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](04-movement-intro_files/figure-html/cell-17-output-1.png){}\n:::\n:::\n\n\nAs a __bonus__, we can also overlay that trajectory on top of a video frame.\n\n::: {#831a0623 .cell execution_count=18}\n``` {.python .cell-code}\nimport sleap_io as sio\n\n\nvideo_path = Path.home() / \".movement\" / \"CalMS21\" / \"mouse044_task1_annotator1.mp4\"\nvideo = sio.load_video(video_path)\n\nn_frames, height, width, channels = video.shape\nprint(f\"Number of frames: {n_frames}\")\nprint(f\"Frame size: {width}x{height}\")\nprint(f\"Number of channels: {channels}\\n\")\n\n# Extract the first frame to use as background\nbackground = video[0]\n\nfig, ax = plt.subplots(figsize=(8, 4))\n\n# Plot the first video frame\nax.imshow(background, cmap=\"gray\")\n\n# Plot the centroid trajectory\nplot_centroid_trajectory(\n    ds.position, individual=\"resident_b\", ax=ax, alpha=0.75, s=5,\n)\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNumber of frames: 3394\nFrame size: 1024x570\nNumber of channels: 1\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](04-movement-intro_files/figure-html/cell-18-output-2.png){}\n:::\n:::\n\n\n:::\n\n:::\n\n## Visualise motion tracks interactively {#sec-movement-gui}\n\nThe `movement` [graphical user interface (GUI)](https://movement.neuroinformatics.dev/user_guide/gui.html),\npowered by our custom plugin for [napari](https://napari.org/dev/),\nmakes it easy to view and explore motion tracks.\nCurrently, you can use it to visualise 2D `movement` datasets as points, tracks,\nand rectangular bounding boxes (if defined) overlaid on video frames.\n\nWe'll first demonstrate how the GUI works by using it to explore the\n`CalMS21` dataset and some of the\n[sample data](https://movement.neuroinformatics.dev/user_guide/input_output.html#sample-data)\nwe can fetch with `movement`.\n\n![Data from the CalMS21 dataset viewed via the `movement` plugin for `napari`](img/napari_calms21_screenshot.png){#fig-napari-calms21}\n\nAfter that you are free to play with the GUI on your own.\nYou may try to explore the predictions you generated in @sec-sleap,\nor any other tracking data you have at hand and is supported by `movement`.\n\nConsult the [GUI user guide](https://movement.neuroinformatics.dev/user_guide/gui.html)\nin the `movement` documentation for more details.\n\n::: {.callout-tip title=\"Discuss\"}\n\n- Did you spot any errors in the data you've explored?\n- What kinds of errors do you expect in pose tracks?\n- What are some common sources of errors?\n- How can such errors be avoided or corrected?\n\n:::\n\n## Clean motion tracks {#sec-movement-filtering}\n\nIn this section, we will walk through the tools `movement` offers for dealing with errors in motion tracking.\nThese tools are implemented in the\n[`movement.filtering`](https://movement.neuroinformatics.dev/api/movement.filtering.html)\nmodule and include functions for:\n\n- identifying and removing outliers\n- interpolating missing data\n- smoothing trajectories over time\n\nWe will go through two notebooks from `movement`'s\n[example gallery](https://movement.neuroinformatics.dev/examples/index.html):\n\n- [Drop outliers and interpolate](https://movement.neuroinformatics.dev/examples/filter_and_interpolate.html)\n- [Smooth pose tracks](https://movement.neuroinformatics.dev/examples/smooth.html)\n\nTo run these examples as interactive Jupyter notebooks, you can go to end\nof each example and either:\n\n- Click the __Download Jupyter Notebook__ button and open the `.ipynb` file in your code editor of choice (recommended), or\n- Click the __launch binder__ button and run the notebook in your browser.\n\n::: {.callout-tip title=\"Exercise B\"}\n\nFor this exercise you may continue working with the dataset you used\nto solve Exercise A in @sec-movement-load, or load another one.\nYou should store each intermediate output as a data variable\nwithin the same dataset.\n\n1. Drop position values that are below a certain confidence threshold.\n2. Smooth the data across time using rolling median filter.\n3. Interpolate missing values across time.\n4. Save the dataset, including the processed position data, to a netCDF file.\n\nRefer to the [filtering module documentation](https://movement.neuroinformatics.dev/api/movement.filtering.html)\nand to the examples we went through above.\n\nEach filtering step involves selecting one or more parameters.\nWe encourage you to experiment with different parameters values and\ninspect their effects by plotting the data.\n\n:::\n\n::: {.content-visible when-profile=\"answers\"}\n\n::: {.callout-tip title=\"Click to reveal the answers\" collapse=\"true\"}\n\nWe will work with the same \"SLEAP_two-mice_octagon.analysis.h5\"\ndataset we loaded in @sec-movement-ds-poses.\n\n::: {#4bc1dbf6 .cell execution_count=19}\n``` {.python .cell-code}\nds_oct = sample_data.fetch_dataset(\"SLEAP_two-mice_octagon.analysis.h5\")\nds_oct\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 2MB\nDimensions:      (time: 9000, space: 2, keypoints: 7, individuals: 2)\nCoordinates: (4)\nData variables:\n    position     (time, space, keypoints, individuals) float32 1MB 796.5 ... nan\n    confidence   (time, keypoints, individuals) float32 504kB 0.9292 ... 0.0\nAttributes: (6)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-b2a35347-bc2f-4c95-b40d-5e8e67d00579' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-b2a35347-bc2f-4c95-b40d-5e8e67d00579' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 9000</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-854904ed-9502-4126-ac0e-0d88f612c726' class='xr-section-summary-in' type='checkbox'  ><label for='section-854904ed-9502-4126-ac0e-0d88f612c726' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-757468f3-0326-45d8-a57c-cdf1698066cb' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-757468f3-0326-45d8-a57c-cdf1698066cb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1f843e5c-0edd-484b-8d69-987c7e6dd2cf' class='xr-var-data-in' type='checkbox'><label for='data-1f843e5c-0edd-484b-8d69-987c7e6dd2cf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-861a0742-9d2d-4b44-836c-236484a05900' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-861a0742-9d2d-4b44-836c-236484a05900' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fc4f17e0-8170-47cf-80ef-0c407c8a63df' class='xr-var-data-in' type='checkbox'><label for='data-fc4f17e0-8170-47cf-80ef-0c407c8a63df' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;Nose&#x27; &#x27;EarLeft&#x27; ... &#x27;TailBase&#x27;</div><input id='attrs-5e27ad8c-d842-4ab7-b066-1e9a2293a8b0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5e27ad8c-d842-4ab7-b066-1e9a2293a8b0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-11e56e9c-9fa6-413a-8f0a-6b89cdd1e946' class='xr-var-data-in' type='checkbox'><label for='data-11e56e9c-9fa6-413a-8f0a-6b89cdd1e946' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-fa95a5ff-bc37-4514-b7e8-255ef4d8d2f3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fa95a5ff-bc37-4514-b7e8-255ef4d8d2f3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-943a1c84-7ae0-4718-bf2d-73bbb6a825bc' class='xr-var-data-in' type='checkbox'><label for='data-943a1c84-7ae0-4718-bf2d-73bbb6a825bc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ba9de129-6794-4d7d-8711-a4759499c897' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ba9de129-6794-4d7d-8711-a4759499c897' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>position</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>796.5 724.5 812.8 ... 539.9 nan</div><input id='attrs-b1bc0f70-5770-49d6-a239-d6231864fa4b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b1bc0f70-5770-49d6-a239-d6231864fa4b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-30ef0f91-1b2f-4866-a5d7-67e32962cbfb' class='xr-var-data-in' type='checkbox'><label for='data-30ef0f91-1b2f-4866-a5d7-67e32962cbfb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[[ 796.47314 ,  724.50464 ],\n         [ 812.7791  ,  721.03235 ],\n         [ 816.9322  ,  704.87585 ],\n         ...,\n         [ 840.7488  ,  704.7664  ],\n         [ 860.94714 ,  696.9818  ],\n         [ 891.86694 ,  696.5501  ]],\n\n        [[ 843.9411  , 1013.0088  ],\n         [ 853.02704 ,  984.7694  ],\n         [ 836.6645  ,  992.73926 ],\n         ...,\n         [ 852.37103 ,  969.5139  ],\n         [ 852.46027 ,  956.7811  ],\n         [ 852.8248  ,  940.1626  ]]],\n\n\n       [[[ 784.9976  ,  724.7622  ],\n         [ 804.41455 ,  721.14667 ],\n         [ 808.7286  ,  705.17615 ],\n...\n         [ 548.5738  ,  124.4707  ],\n         [ 539.9726  ,         nan]]],\n\n\n       [[[1168.8281  ,  628.0149  ],\n         [1164.842   ,  636.7952  ],\n         [1149.0544  ,  648.0165  ],\n         ...,\n         [1148.6505  ,  656.44324 ],\n         [1140.6172  ,  667.7969  ],\n         [1124.6349  ,         nan]],\n\n        [[ 612.5953  ,   96.91025 ],\n         [ 588.73206 ,  112.90335 ],\n         [ 596.61346 ,   96.67566 ],\n         ...,\n         [ 572.3625  ,  116.7138  ],\n         [ 552.75    ,  124.54907 ],\n         [ 539.917   ,         nan]]]],\n      shape=(9000, 2, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>confidence</span></div><div class='xr-var-dims'>(time, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.9292 0.8582 0.9183 ... 0.8343 0.0</div><input id='attrs-8ce14c39-d68e-4dfd-98b0-5ec94a930a7c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8ce14c39-d68e-4dfd-98b0-5ec94a930a7c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5aacc81b-c7f6-4f52-916c-7344df732429' class='xr-var-data-in' type='checkbox'><label for='data-5aacc81b-c7f6-4f52-916c-7344df732429' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[0.9292158 , 0.85823977],\n        [0.91834486, 0.9425898 ],\n        [0.9423268 , 1.0327555 ],\n        ...,\n        [1.0818218 , 1.0189738 ],\n        [0.82583773, 1.0566478 ],\n        [0.61231655, 0.7511665 ]],\n\n       [[0.87165236, 0.87277526],\n        [0.9183895 , 0.91004723],\n        [0.8998653 , 1.0173767 ],\n        ...,\n        [1.0842742 , 1.0057921 ],\n        [0.8515047 , 1.0472274 ],\n        [0.76587516, 0.7506779 ]],\n\n       [[0.83031344, 0.8633507 ],\n        [0.8614834 , 0.9128488 ],\n        [0.8628435 , 1.0143896 ],\n        ...,\n...\n        ...,\n        [0.9772766 , 0.85115355],\n        [0.9786657 , 0.61859107],\n        [0.88060284, 0.        ]],\n\n       [[0.8607382 , 0.5399062 ],\n        [0.9647669 , 0.8537044 ],\n        [0.9817054 , 0.8100933 ],\n        ...,\n        [1.0091084 , 0.8482252 ],\n        [0.9706513 , 0.6101817 ],\n        [0.8690833 , 0.        ]],\n\n       [[0.8661687 , 0.53857213],\n        [0.9934075 , 0.8632442 ],\n        [1.0423936 , 0.81270623],\n        ...,\n        [0.9675762 , 0.8551186 ],\n        [0.9172935 , 0.59800303],\n        [0.83427495, 0.        ]]], shape=(9000, 7, 2), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-c486ac3a-e69d-4ed1-89fd-67b09c31a4c6' class='xr-section-summary-in' type='checkbox'  ><label for='section-c486ac3a-e69d-4ed1-89fd-67b09c31a4c6' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-669bcd27-bff5-48cb-ba4c-5ed48ff6798c' class='xr-index-data-in' type='checkbox'/><label for='index-669bcd27-bff5-48cb-ba4c-5ed48ff6798c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-7e883dd9-b66b-411c-808f-75500e0bcf72' class='xr-index-data-in' type='checkbox'/><label for='index-7e883dd9-b66b-411c-808f-75500e0bcf72' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3e578d19-6003-4b7f-a7d6-652d381db661' class='xr-index-data-in' type='checkbox'/><label for='index-3e578d19-6003-4b7f-a7d6-652d381db661' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-74c957bf-36bd-4123-91ed-4bc9c52a390a' class='xr-index-data-in' type='checkbox'/><label for='index-74c957bf-36bd-4123-91ed-4bc9c52a390a' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-013d7f34-2d6c-4f5b-9cd9-7a85675850b5' class='xr-section-summary-in' type='checkbox'  ><label for='section-013d7f34-2d6c-4f5b-9cd9-7a85675850b5' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>source_software :</span></dt><dd>SLEAP</dd><dt><span>ds_type :</span></dt><dd>poses</dd><dt><span>fps :</span></dt><dd>50.0</dd><dt><span>time_unit :</span></dt><dd>seconds</dd><dt><span>source_file :</span></dt><dd>/Users/nsirmpilatze/.movement/data/poses/SLEAP_two-mice_octagon.analysis.h5</dd><dt><span>frame_path :</span></dt><dd>/Users/nsirmpilatze/.movement/data/frames/two-mice_octagon_frame-10sec.png</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nConsulting @fig-plot-confidence-histograms, we decide on a confidence threshold of 0.8.\nThis decision is always somewhat arbitrary, and confidence scores are not usually\ncomparable across different tracking tools and datasets.\n\nWe can now drop the position values that are below the threshold:\n\n::: {#ff1d0bc7 .cell execution_count=20}\n``` {.python .cell-code}\nfrom movement.filtering import (\n    filter_by_confidence,\n    rolling_filter,\n    interpolate_over_time,\n)\n\nconfidence_threshold = 0.8\n\nds_oct[\"position_filtered\"] = filter_by_confidence(\n    ds_oct.position,\n    ds_oct.confidence,\n    threshold=confidence_threshold,\n    print_report=True\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMissing points (marked as NaN) in input:\n\nkeypoints                Nose           EarLeft          EarRight              Neck         BodyUpper         BodyLower          TailBase\nindividuals                                                                                                                              \n1            107/9000 (1.19%)     9/9000 (0.1%)     9/9000 (0.1%)     9/9000 (0.1%)     9/9000 (0.1%)     9/9000 (0.1%)   44/9000 (0.49%)\n2            272/9000 (3.02%)  260/9000 (2.89%)  260/9000 (2.89%)  260/9000 (2.89%)  260/9000 (2.89%)  260/9000 (2.89%)  392/9000 (4.36%)\nMissing points (marked as NaN) in output:\n\nkeypoints                  Nose             EarLeft            EarRight              Neck         BodyUpper           BodyLower            TailBase\nindividuals                                                                                                                                        \n1            3972/9000 (44.13%)  1441/9000 (16.01%)  1200/9000 (13.33%)  390/9000 (4.33%)     9/9000 (0.1%)    520/9000 (5.78%)  3337/9000 (37.08%)\n2            5143/9000 (57.14%)  1826/9000 (20.29%)  1324/9000 (14.71%)  489/9000 (5.43%)  524/9000 (5.82%)  1382/9000 (15.36%)  4899/9000 (54.43%)\n```\n:::\n:::\n\n\nSmoothing the data with a rolling median filter:\n\n::: {#0173a757 .cell execution_count=21}\n``` {.python .cell-code}\nds_oct[\"position_smoothed\"] = rolling_filter(\n    ds_oct.position_filtered,\n    window=5,\n    statistic=\"median\",\n    min_periods=2,\n    print_report=True\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMissing points (marked as NaN) in input:\n\nkeypoints                  Nose             EarLeft            EarRight              Neck         BodyUpper           BodyLower            TailBase\nindividuals                                                                                                                                        \n1            3972/9000 (44.13%)  1441/9000 (16.01%)  1200/9000 (13.33%)  390/9000 (4.33%)     9/9000 (0.1%)    520/9000 (5.78%)  3337/9000 (37.08%)\n2            5143/9000 (57.14%)  1826/9000 (20.29%)  1324/9000 (14.71%)  489/9000 (5.43%)  524/9000 (5.82%)  1382/9000 (15.36%)  4899/9000 (54.43%)\nMissing points (marked as NaN) in output:\n\nkeypoints                  Nose             EarLeft            EarRight              Neck         BodyUpper          BodyLower            TailBase\nindividuals                                                                                                                                       \n1            3583/9000 (39.81%)  1196/9000 (13.29%)  1019/9000 (11.32%)   270/9000 (3.0%)    4/9000 (0.04%)   349/9000 (3.88%)  2821/9000 (31.34%)\n2            4741/9000 (52.68%)  1493/9000 (16.59%)   994/9000 (11.04%)  314/9000 (3.49%)  341/9000 (3.79%)  970/9000 (10.78%)  4296/9000 (47.73%)\n```\n:::\n:::\n\n\nInterpolating missing values across time:\n\n::: {#8ca099ba .cell execution_count=22}\n``` {.python .cell-code}\nds_oct[\"position_interpolated\"] = interpolate_over_time(\n    ds_oct.position_smoothed,\n    method=\"linear\",\n    max_gap=10,\n    print_report=True\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMissing points (marked as NaN) in input:\n\nkeypoints                  Nose             EarLeft            EarRight              Neck         BodyUpper          BodyLower            TailBase\nindividuals                                                                                                                                       \n1            3583/9000 (39.81%)  1196/9000 (13.29%)  1019/9000 (11.32%)   270/9000 (3.0%)    4/9000 (0.04%)   349/9000 (3.88%)  2821/9000 (31.34%)\n2            4741/9000 (52.68%)  1493/9000 (16.59%)   994/9000 (11.04%)  314/9000 (3.49%)  341/9000 (3.79%)  970/9000 (10.78%)  4296/9000 (47.73%)\nMissing points (marked as NaN) in output:\n\nkeypoints                  Nose             EarLeft          EarRight             Neck         BodyUpper         BodyLower            TailBase\nindividuals                                                                                                                                   \n1            3394/9000 (37.71%)  1009/9000 (11.21%)  886/9000 (9.84%)  180/9000 (2.0%)     0/9000 (0.0%)  196/9000 (2.18%)  2456/9000 (27.29%)\n2             4500/9000 (50.0%)  1263/9000 (14.03%)  750/9000 (8.33%)  162/9000 (1.8%)  205/9000 (2.28%)  670/9000 (7.44%)  3808/9000 (42.31%)\n```\n:::\n:::\n\n\nThe dataset now contains all intermediate processing steps.\n\n::: {#276459fe .cell execution_count=23}\n``` {.python .cell-code}\nds_oct\n```\n\n::: {.cell-output .cell-output-display execution_count=22}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 5MB\nDimensions:                (time: 9000, space: 2, keypoints: 7, individuals: 2)\nCoordinates: (4)\nData variables:\n    position               (time, space, keypoints, individuals) float32 1MB ...\n    confidence             (time, keypoints, individuals) float32 504kB 0.929...\n    position_filtered      (time, space, keypoints, individuals) float32 1MB ...\n    position_smoothed      (time, space, keypoints, individuals) float32 1MB ...\n    position_interpolated  (time, space, keypoints, individuals) float32 1MB ...\nAttributes: (6)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-f8f38245-8c52-4e35-9bb5-dcab318d226c' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-f8f38245-8c52-4e35-9bb5-dcab318d226c' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 9000</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-736d8e69-2e1b-48c1-a6dc-2c59ec275dab' class='xr-section-summary-in' type='checkbox'  ><label for='section-736d8e69-2e1b-48c1-a6dc-2c59ec275dab' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-2fb8437c-35b6-416c-84d7-af7152f70435' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2fb8437c-35b6-416c-84d7-af7152f70435' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f75dea3e-f91e-4857-a50d-b7eb2a8c03a1' class='xr-var-data-in' type='checkbox'><label for='data-f75dea3e-f91e-4857-a50d-b7eb2a8c03a1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-790bd807-3d8a-48f7-8656-f0a403b017a4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-790bd807-3d8a-48f7-8656-f0a403b017a4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f1355f2d-e4d8-42d8-8181-999a92fa0d39' class='xr-var-data-in' type='checkbox'><label for='data-f1355f2d-e4d8-42d8-8181-999a92fa0d39' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;Nose&#x27; &#x27;EarLeft&#x27; ... &#x27;TailBase&#x27;</div><input id='attrs-9586f5db-278d-409b-8795-de9db0f65d4f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9586f5db-278d-409b-8795-de9db0f65d4f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bd409aa2-4c44-426a-9c34-b8a664d9986b' class='xr-var-data-in' type='checkbox'><label for='data-bd409aa2-4c44-426a-9c34-b8a664d9986b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-d7000d2b-b252-43d9-8654-05fa31f78ebb' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d7000d2b-b252-43d9-8654-05fa31f78ebb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-398aa72d-de60-430f-b5ff-15e57a71e142' class='xr-var-data-in' type='checkbox'><label for='data-398aa72d-de60-430f-b5ff-15e57a71e142' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ff0ae7ad-5f6b-4f15-a103-134a4eec9d2e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ff0ae7ad-5f6b-4f15-a103-134a4eec9d2e' class='xr-section-summary' >Data variables: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>position</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>796.5 724.5 812.8 ... 539.9 nan</div><input id='attrs-4299d089-647f-472d-8f36-a1f2202d63f6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4299d089-647f-472d-8f36-a1f2202d63f6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2d52be6c-0868-4027-88d4-a3a5bad46ca4' class='xr-var-data-in' type='checkbox'><label for='data-2d52be6c-0868-4027-88d4-a3a5bad46ca4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[[ 796.47314 ,  724.50464 ],\n         [ 812.7791  ,  721.03235 ],\n         [ 816.9322  ,  704.87585 ],\n         ...,\n         [ 840.7488  ,  704.7664  ],\n         [ 860.94714 ,  696.9818  ],\n         [ 891.86694 ,  696.5501  ]],\n\n        [[ 843.9411  , 1013.0088  ],\n         [ 853.02704 ,  984.7694  ],\n         [ 836.6645  ,  992.73926 ],\n         ...,\n         [ 852.37103 ,  969.5139  ],\n         [ 852.46027 ,  956.7811  ],\n         [ 852.8248  ,  940.1626  ]]],\n\n\n       [[[ 784.9976  ,  724.7622  ],\n         [ 804.41455 ,  721.14667 ],\n         [ 808.7286  ,  705.17615 ],\n...\n         [ 548.5738  ,  124.4707  ],\n         [ 539.9726  ,         nan]]],\n\n\n       [[[1168.8281  ,  628.0149  ],\n         [1164.842   ,  636.7952  ],\n         [1149.0544  ,  648.0165  ],\n         ...,\n         [1148.6505  ,  656.44324 ],\n         [1140.6172  ,  667.7969  ],\n         [1124.6349  ,         nan]],\n\n        [[ 612.5953  ,   96.91025 ],\n         [ 588.73206 ,  112.90335 ],\n         [ 596.61346 ,   96.67566 ],\n         ...,\n         [ 572.3625  ,  116.7138  ],\n         [ 552.75    ,  124.54907 ],\n         [ 539.917   ,         nan]]]],\n      shape=(9000, 2, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>confidence</span></div><div class='xr-var-dims'>(time, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.9292 0.8582 0.9183 ... 0.8343 0.0</div><input id='attrs-680f4800-4768-4a8f-90aa-664e8204620b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-680f4800-4768-4a8f-90aa-664e8204620b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-085d4515-b275-49e2-b19c-d8db661a1f4b' class='xr-var-data-in' type='checkbox'><label for='data-085d4515-b275-49e2-b19c-d8db661a1f4b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[0.9292158 , 0.85823977],\n        [0.91834486, 0.9425898 ],\n        [0.9423268 , 1.0327555 ],\n        ...,\n        [1.0818218 , 1.0189738 ],\n        [0.82583773, 1.0566478 ],\n        [0.61231655, 0.7511665 ]],\n\n       [[0.87165236, 0.87277526],\n        [0.9183895 , 0.91004723],\n        [0.8998653 , 1.0173767 ],\n        ...,\n        [1.0842742 , 1.0057921 ],\n        [0.8515047 , 1.0472274 ],\n        [0.76587516, 0.7506779 ]],\n\n       [[0.83031344, 0.8633507 ],\n        [0.8614834 , 0.9128488 ],\n        [0.8628435 , 1.0143896 ],\n        ...,\n...\n        ...,\n        [0.9772766 , 0.85115355],\n        [0.9786657 , 0.61859107],\n        [0.88060284, 0.        ]],\n\n       [[0.8607382 , 0.5399062 ],\n        [0.9647669 , 0.8537044 ],\n        [0.9817054 , 0.8100933 ],\n        ...,\n        [1.0091084 , 0.8482252 ],\n        [0.9706513 , 0.6101817 ],\n        [0.8690833 , 0.        ]],\n\n       [[0.8661687 , 0.53857213],\n        [0.9934075 , 0.8632442 ],\n        [1.0423936 , 0.81270623],\n        ...,\n        [0.9675762 , 0.8551186 ],\n        [0.9172935 , 0.59800303],\n        [0.83427495, 0.        ]]], shape=(9000, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>position_filtered</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>796.5 724.5 812.8 ... nan 539.9 nan</div><input id='attrs-7fabc6f2-aa89-494d-b749-4f5544aaeaf1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7fabc6f2-aa89-494d-b749-4f5544aaeaf1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8388f9d7-8fcf-41a6-94cf-804ed542f261' class='xr-var-data-in' type='checkbox'><label for='data-8388f9d7-8fcf-41a6-94cf-804ed542f261' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>log :</span></dt><dd>[\n  {\n    &quot;operation&quot;: &quot;filter_by_confidence&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.867082&quot;,\n    &quot;confidence&quot;: &quot;&lt;xarray.DataArray &#x27;confidence&#x27; (time: 9000, keypoints: 7, individuals: 2)&gt; Size: 504kB\\n0.9292 0.8582 0.9183 0.9426 0.9423 1.033 ... 0.8551 0.9173 0.598 0.8343 0.0\\nCoordinates: (3)&quot;,\n    &quot;threshold&quot;: &quot;0.8&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  }\n]</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 796.47314 ,  724.50464 ],\n         [ 812.7791  ,  721.03235 ],\n         [ 816.9322  ,  704.87585 ],\n         ...,\n         [ 840.7488  ,  704.7664  ],\n         [ 860.94714 ,  696.9818  ],\n         [        nan,         nan]],\n\n        [[ 843.9411  , 1013.0088  ],\n         [ 853.02704 ,  984.7694  ],\n         [ 836.6645  ,  992.73926 ],\n         ...,\n         [ 852.37103 ,  969.5139  ],\n         [ 852.46027 ,  956.7811  ],\n         [        nan,         nan]]],\n\n\n       [[[ 784.9976  ,  724.7622  ],\n         [ 804.41455 ,  721.14667 ],\n         [ 808.7286  ,  705.17615 ],\n...\n         [ 548.5738  ,         nan],\n         [ 539.9726  ,         nan]]],\n\n\n       [[[1168.8281  ,         nan],\n         [1164.842   ,  636.7952  ],\n         [1149.0544  ,  648.0165  ],\n         ...,\n         [1148.6505  ,  656.44324 ],\n         [1140.6172  ,         nan],\n         [1124.6349  ,         nan]],\n\n        [[ 612.5953  ,         nan],\n         [ 588.73206 ,  112.90335 ],\n         [ 596.61346 ,   96.67566 ],\n         ...,\n         [ 572.3625  ,  116.7138  ],\n         [ 552.75    ,         nan],\n         [ 539.917   ,         nan]]]],\n      shape=(9000, 2, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>position_smoothed</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>785.0 724.8 804.4 ... nan 539.9 nan</div><input id='attrs-ca0d87ed-3757-4d10-b8b3-084e20f65834' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ca0d87ed-3757-4d10-b8b3-084e20f65834' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-22808e94-4e82-4225-8652-ae6d42b34436' class='xr-var-data-in' type='checkbox'><label for='data-22808e94-4e82-4225-8652-ae6d42b34436' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>log :</span></dt><dd>[\n  {\n    &quot;operation&quot;: &quot;filter_by_confidence&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.867082&quot;,\n    &quot;confidence&quot;: &quot;&lt;xarray.DataArray &#x27;confidence&#x27; (time: 9000, keypoints: 7, individuals: 2)&gt; Size: 504kB\\n0.9292 0.8582 0.9183 0.9426 0.9423 1.033 ... 0.8551 0.9173 0.598 0.8343 0.0\\nCoordinates: (3)&quot;,\n    &quot;threshold&quot;: &quot;0.8&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;rolling_filter&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.883691&quot;,\n    &quot;window&quot;: &quot;5&quot;,\n    &quot;statistic&quot;: &quot;&#x27;median&#x27;&quot;,\n    &quot;min_periods&quot;: &quot;2&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  }\n]</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 784.9976 ,  724.7622 ],\n         [ 804.41455,  721.14667],\n         [ 808.7286 ,  705.17615],\n         ...,\n         [ 832.52625,  704.7664 ],\n         [ 852.7732 ,  696.9818 ],\n         [ 872.16034,        nan]],\n\n        [[ 840.1928 , 1012.284  ],\n         [ 852.35284,  984.18274],\n         [ 836.1602 ,  992.3926 ],\n         ...,\n         [ 852.06903,  969.25543],\n         [ 852.23706,  956.54346],\n         [ 849.3308 ,        nan]]],\n\n\n       [[[ 784.9976 ,  724.7622 ],\n         [ 804.41455,  721.14667],\n         [ 808.7286 ,  705.17615],\n...\n         [ 564.36743,  116.69415],\n         [ 548.5738 ,        nan],\n         [ 539.9726 ,        nan]]],\n\n\n       [[[1168.8281 ,        nan],\n         [1164.7733 ,  636.7952 ],\n         [1149.0544 ,  644.9634 ],\n         ...,\n         [1148.2814 ,  656.49194],\n         [1139.8783 ,        nan],\n         [1120.4642 ,        nan]],\n\n        [[ 601.106  ,        nan],\n         [ 580.44836,  112.90335],\n         [ 588.3836 ,   99.76018],\n         ...,\n         [ 564.36743,  116.69415],\n         [ 548.5738 ,        nan],\n         [ 539.917  ,        nan]]]], shape=(9000, 2, 7, 2), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>position_interpolated</span></div><div class='xr-var-dims'>(time, space, keypoints, individuals)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>785.0 724.8 804.4 ... nan 539.9 nan</div><input id='attrs-13114957-4d16-45e3-a43f-b88dfcba1469' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-13114957-4d16-45e3-a43f-b88dfcba1469' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d974c1b6-ce83-4691-8eec-0ea8d16cec19' class='xr-var-data-in' type='checkbox'><label for='data-d974c1b6-ce83-4691-8eec-0ea8d16cec19' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>log :</span></dt><dd>[\n  {\n    &quot;operation&quot;: &quot;filter_by_confidence&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.867082&quot;,\n    &quot;confidence&quot;: &quot;&lt;xarray.DataArray &#x27;confidence&#x27; (time: 9000, keypoints: 7, individuals: 2)&gt; Size: 504kB\\n0.9292 0.8582 0.9183 0.9426 0.9423 1.033 ... 0.8551 0.9173 0.598 0.8343 0.0\\nCoordinates: (3)&quot;,\n    &quot;threshold&quot;: &quot;0.8&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;rolling_filter&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.883691&quot;,\n    &quot;window&quot;: &quot;5&quot;,\n    &quot;statistic&quot;: &quot;&#x27;median&#x27;&quot;,\n    &quot;min_periods&quot;: &quot;2&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;interpolate_over_time&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:11.113501&quot;,\n    &quot;method&quot;: &quot;&#x27;linear&#x27;&quot;,\n    &quot;max_gap&quot;: &quot;10&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  }\n]</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 784.9976 ,  724.7622 ],\n         [ 804.41455,  721.14667],\n         [ 808.7286 ,  705.17615],\n         ...,\n         [ 832.52625,  704.7664 ],\n         [ 852.7732 ,  696.9818 ],\n         [ 872.16034,        nan]],\n\n        [[ 840.1928 , 1012.284  ],\n         [ 852.35284,  984.18274],\n         [ 836.1602 ,  992.3926 ],\n         ...,\n         [ 852.06903,  969.25543],\n         [ 852.23706,  956.54346],\n         [ 849.3308 ,        nan]]],\n\n\n       [[[ 784.9976 ,  724.7622 ],\n         [ 804.41455,  721.14667],\n         [ 808.7286 ,  705.17615],\n...\n         [ 564.36743,  116.69415],\n         [ 548.5738 ,        nan],\n         [ 539.9726 ,        nan]]],\n\n\n       [[[1168.8281 ,        nan],\n         [1164.7733 ,  636.7952 ],\n         [1149.0544 ,  644.9634 ],\n         ...,\n         [1148.2814 ,  656.49194],\n         [1139.8783 ,        nan],\n         [1120.4642 ,        nan]],\n\n        [[ 601.106  ,        nan],\n         [ 580.44836,  112.90335],\n         [ 588.3836 ,   99.76018],\n         ...,\n         [ 564.36743,  116.69415],\n         [ 548.5738 ,        nan],\n         [ 539.917  ,        nan]]]], shape=(9000, 2, 7, 2), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-705f750d-daa9-4f66-8f1a-9242a92c34b7' class='xr-section-summary-in' type='checkbox'  ><label for='section-705f750d-daa9-4f66-8f1a-9242a92c34b7' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-9913d8e6-9c82-44ff-89b3-ef8cda020669' class='xr-index-data-in' type='checkbox'/><label for='index-9913d8e6-9c82-44ff-89b3-ef8cda020669' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-954958a4-a1e9-4c87-b5b2-6bea11e3ae43' class='xr-index-data-in' type='checkbox'/><label for='index-954958a4-a1e9-4c87-b5b2-6bea11e3ae43' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b3dd6024-1468-4afd-9907-e28f51ffa534' class='xr-index-data-in' type='checkbox'/><label for='index-b3dd6024-1468-4afd-9907-e28f51ffa534' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-891e013a-65b1-4d1a-8e42-5b4113b294f7' class='xr-index-data-in' type='checkbox'/><label for='index-891e013a-65b1-4d1a-8e42-5b4113b294f7' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1e3cd0cd-e4ad-4b38-97bf-cbbde5a15192' class='xr-section-summary-in' type='checkbox'  ><label for='section-1e3cd0cd-e4ad-4b38-97bf-cbbde5a15192' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>source_software :</span></dt><dd>SLEAP</dd><dt><span>ds_type :</span></dt><dd>poses</dd><dt><span>fps :</span></dt><dd>50.0</dd><dt><span>time_unit :</span></dt><dd>seconds</dd><dt><span>source_file :</span></dt><dd>/Users/nsirmpilatze/.movement/data/poses/SLEAP_two-mice_octagon.analysis.h5</dd><dt><span>frame_path :</span></dt><dd>/Users/nsirmpilatze/.movement/data/frames/two-mice_octagon_frame-10sec.png</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nWe can even inspect the log of the final position data array:\n\n::: {#6ad1f8a9 .cell execution_count=24}\n``` {.python .cell-code}\nprint(ds_oct.position_interpolated.log)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[\n  {\n    \"operation\": \"filter_by_confidence\",\n    \"datetime\": \"2025-08-10 19:46:10.867082\",\n    \"confidence\": \"<xarray.DataArray 'confidence' (time: 9000, keypoints: 7, individuals: 2)> Size: 504kB\\n0.9292 0.8582 0.9183 0.9426 0.9423 1.033 ... 0.8551 0.9173 0.598 0.8343 0.0\\nCoordinates: (3)\",\n    \"threshold\": \"0.8\",\n    \"print_report\": \"True\"\n  },\n  {\n    \"operation\": \"rolling_filter\",\n    \"datetime\": \"2025-08-10 19:46:10.883691\",\n    \"window\": \"5\",\n    \"statistic\": \"'median'\",\n    \"min_periods\": \"2\",\n    \"print_report\": \"True\"\n  },\n  {\n    \"operation\": \"interpolate_over_time\",\n    \"datetime\": \"2025-08-10 19:46:11.113501\",\n    \"method\": \"'linear'\",\n    \"max_gap\": \"10\",\n    \"print_report\": \"True\"\n  }\n]\n```\n:::\n:::\n\n\nLet's pick a keypoint and plot its position across time for every\nprocessing step. To make the plotting a bit easier, we'll\nstack the four position data arrays across a new dimension called `step`.\n\n::: {#e9da9feb .cell execution_count=25}\n``` {.python .cell-code}\nposition_all_steps = xr.concat(\n    [\n        ds_oct.position,\n        ds_oct.position_filtered,\n        ds_oct.position_smoothed,\n        ds_oct.position_interpolated\n    ],\n    dim=\"step\"\n).assign_coords(step=[\"original\", \"filtered\", \"smoothed\", \"interpolated\"])\n\nposition_all_steps\n```\n\n::: {.cell-output .cell-output-display execution_count=24}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;position&#x27; (step: 4, time: 9000, space: 2, keypoints: 7,\n                              individuals: 2)&gt; Size: 4MB\n796.5 724.5 812.8 721.0 816.9 704.9 821.1 ... 564.4 116.7 548.6 nan 539.9 nan\nCoordinates: (5)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'position'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>step</span>: 4</li><li><span class='xr-has-index'>time</span>: 9000</li><li><span class='xr-has-index'>space</span>: 2</li><li><span class='xr-has-index'>keypoints</span>: 7</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-ba43a854-e49e-4e98-b12c-737d4bf7291b' class='xr-array-in' type='checkbox' ><label for='section-ba43a854-e49e-4e98-b12c-737d4bf7291b' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>796.5 724.5 812.8 721.0 816.9 704.9 ... 116.7 548.6 nan 539.9 nan</span></div><div class='xr-array-data'><pre>array([[[[[ 796.47314 ,  724.50464 ],\n          [ 812.7791  ,  721.03235 ],\n          [ 816.9322  ,  704.87585 ],\n          ...,\n          [ 840.7488  ,  704.7664  ],\n          [ 860.94714 ,  696.9818  ],\n          [ 891.86694 ,  696.5501  ]],\n\n         [[ 843.9411  , 1013.0088  ],\n          [ 853.02704 ,  984.7694  ],\n          [ 836.6645  ,  992.73926 ],\n          ...,\n          [ 852.37103 ,  969.5139  ],\n          [ 852.46027 ,  956.7811  ],\n          [ 852.8248  ,  940.1626  ]]],\n\n\n        [[[ 784.9976  ,  724.7622  ],\n          [ 804.41455 ,  721.14667 ],\n          [ 808.7286  ,  705.17615 ],\n...\n          [ 548.5738  ,         nan],\n          [ 539.9726  ,         nan]]],\n\n\n        [[[1168.8281  ,         nan],\n          [1164.7733  ,  636.7952  ],\n          [1149.0544  ,  644.9634  ],\n          ...,\n          [1148.2814  ,  656.49194 ],\n          [1139.8783  ,         nan],\n          [1120.4642  ,         nan]],\n\n         [[ 601.106   ,         nan],\n          [ 580.44836 ,  112.90335 ],\n          [ 588.3836  ,   99.76018 ],\n          ...,\n          [ 564.36743 ,  116.69415 ],\n          [ 548.5738  ,         nan],\n          [ 539.917   ,         nan]]]]],\n      shape=(4, 9000, 2, 7, 2), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-87739d1b-d495-4616-b907-03b88478f66e' class='xr-section-summary-in' type='checkbox'  ><label for='section-87739d1b-d495-4616-b907-03b88478f66e' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-bd3d2955-e0fc-456e-a7fb-267ce0d57d96' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-bd3d2955-e0fc-456e-a7fb-267ce0d57d96' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d9c4a6f8-fe22-428f-afdf-a136258ba810' class='xr-var-data-in' type='checkbox'><label for='data-d9c4a6f8-fe22-428f-afdf-a136258ba810' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>space</span></div><div class='xr-var-dims'>(space)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;x&#x27; &#x27;y&#x27;</div><input id='attrs-4f632a3a-8031-4fce-b185-a0e1bf458351' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4f632a3a-8031-4fce-b185-a0e1bf458351' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3031024a-1dfa-4235-b5b7-841c706cb464' class='xr-var-data-in' type='checkbox'><label for='data-3031024a-1dfa-4235-b5b7-841c706cb464' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>keypoints</span></div><div class='xr-var-dims'>(keypoints)</div><div class='xr-var-dtype'>&lt;U9</div><div class='xr-var-preview xr-preview'>&#x27;Nose&#x27; &#x27;EarLeft&#x27; ... &#x27;TailBase&#x27;</div><input id='attrs-60afe1d3-3ae8-4598-a997-6ba8030b2db5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-60afe1d3-3ae8-4598-a997-6ba8030b2db5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-689a5131-fba6-4986-a53a-94ffe8fc99cc' class='xr-var-data-in' type='checkbox'><label for='data-689a5131-fba6-4986-a53a-94ffe8fc99cc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;], dtype=&#x27;&lt;U9&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-83d4c947-aed7-4684-9b99-031ac4007eba' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-83d4c947-aed7-4684-9b99-031ac4007eba' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-15a4c3f9-a72e-42c1-bccb-2aa8208c7319' class='xr-var-data-in' type='checkbox'><label for='data-15a4c3f9-a72e-42c1-bccb-2aa8208c7319' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>step</span></div><div class='xr-var-dims'>(step)</div><div class='xr-var-dtype'>&lt;U12</div><div class='xr-var-preview xr-preview'>&#x27;original&#x27; ... &#x27;interpolated&#x27;</div><input id='attrs-a1f1086d-72c1-445f-977b-04cae18a8b44' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a1f1086d-72c1-445f-977b-04cae18a8b44' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f3d6910d-411a-4119-8c18-6ce481347be8' class='xr-var-data-in' type='checkbox'><label for='data-f3d6910d-411a-4119-8c18-6ce481347be8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;original&#x27;, &#x27;filtered&#x27;, &#x27;smoothed&#x27;, &#x27;interpolated&#x27;], dtype=&#x27;&lt;U12&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-69ffd056-2e80-46cf-8d33-1f20a7377e18' class='xr-section-summary-in' type='checkbox'  ><label for='section-69ffd056-2e80-46cf-8d33-1f20a7377e18' class='xr-section-summary' >Indexes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-bc523684-7364-4c9c-8103-4b282640ec2e' class='xr-index-data-in' type='checkbox'/><label for='index-bc523684-7364-4c9c-8103-4b282640ec2e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>space</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-f55c4bff-a7c0-4e00-b817-748613a7a30b' class='xr-index-data-in' type='checkbox'/><label for='index-f55c4bff-a7c0-4e00-b817-748613a7a30b' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;x&#x27;, &#x27;y&#x27;], dtype=&#x27;object&#x27;, name=&#x27;space&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>keypoints</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-6c0bdeee-e6b7-4fc8-bada-ee2baafa363c' class='xr-index-data-in' type='checkbox'/><label for='index-6c0bdeee-e6b7-4fc8-bada-ee2baafa363c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Nose&#x27;, &#x27;EarLeft&#x27;, &#x27;EarRight&#x27;, &#x27;Neck&#x27;, &#x27;BodyUpper&#x27;, &#x27;BodyLower&#x27;,\n       &#x27;TailBase&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;keypoints&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-6f016e66-9fd1-4177-9d82-dd246d95f350' class='xr-index-data-in' type='checkbox'/><label for='index-6f016e66-9fd1-4177-9d82-dd246d95f350' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>step</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-52f2fc3e-b04b-4362-a2b1-17b6e2cf51db' class='xr-index-data-in' type='checkbox'/><label for='index-52f2fc3e-b04b-4362-a2b1-17b6e2cf51db' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;original&#x27;, &#x27;filtered&#x27;, &#x27;smoothed&#x27;, &#x27;interpolated&#x27;], dtype=&#x27;object&#x27;, name=&#x27;step&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-543c9a58-20c1-40e6-85d4-9bc64d500026' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-543c9a58-20c1-40e6-85d4-9bc64d500026' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nLet's plot the position of the EarLeft keypoint across time for every step.\n\n::: {#b2d537c7 .cell execution_count=26}\n``` {.python .cell-code}\nposition_all_steps.sel(individuals=\"1\", keypoints=\"EarLeft\").plot.line(\n    x=\"time\", row=\"step\", hue=\"space\", aspect=2, size=2.5\n)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](04-movement-intro_files/figure-html/cell-26-output-1.png){}\n:::\n:::\n\n\n:::\n\n:::\n\n## Quantify motion {#sec-movement-kinematics}\n\nIn this section, we will familiarise ourselves with the\n[`movement.kinematics`](https://movement.neuroinformatics.dev/api/movement.kinematics.html)\nmodule, which provides functions for deriving various useful quantities\nfrom motion tracks, such as velocity, acceleration, distances, orientations, and angles.\n\nAs in the previous section, we will go through a specific example from `movement`'s\n[example gallery](https://movement.neuroinformatics.dev/examples/index.html):\n\n- [Compute and visualise kinematics](https://movement.neuroinformatics.dev/examples/compute_kinematics.html)\n\nYou can run this notebook interactively in the same way as in @sec-movement-filtering.\n\n::: {.callout-tip title=\"Exercise C\"}\n\nFor this exercise you may continue working with the dataset you used\nto solve Exercise B in @sec-movement-filtering. In fact, you\ncan use the fully processed position data as your starting point.\n\n1. Take the mean position across keypoints (each individual's centroid).\n2. Compute and plot the centroid speed across time.\n3. Compute the distance travelled by each individual within a certain time window.\n4. Compute the distance between two individuals (or between two keypoints)\nand plot it across time.\n\nRefer to the [kinematics module documentation](https://movement.neuroinformatics.dev/api/movement.kinematics.html)\nand to the example we went through above.\n\n:::\n\n::: {.content-visible when-profile=\"answers\"}\n\n::: {.callout-tip title=\"Click to reveal the answers\" collapse=\"true\"}\n\nWe will continue working with the `ds_oct` from the previous exercise,\nusing the `position_interpolated` data variable as our starting point.\n\nLet's first import the functions we will use:\n\n::: {#61efe774 .cell execution_count=27}\n``` {.python .cell-code}\nfrom movement.kinematics import (\n    compute_speed,\n    compute_path_length,\n    compute_pairwise_distances,\n)\n```\n:::\n\n\nTo compute the centroid position and speed:\n\n::: {#c55d991b .cell execution_count=28}\n``` {.python .cell-code}\nds_oct[\"centroid_position\"] = ds_oct.position_interpolated.mean(dim=\"keypoints\")\nds_oct[\"centroid_speed\"] = compute_speed(ds_oct.centroid_position)\n\nds_oct.centroid_speed\n```\n\n::: {.cell-output .cell-output-display execution_count=27}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;centroid_speed&#x27; (time: 9000, individuals: 2)&gt; Size: 72kB\n401.3 23.79 384.8 41.19 508.6 73.54 629.7 ... 282.9 25.0 132.6 2.656 1.139 0.0\nCoordinates: (2)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'centroid_speed'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 9000</li><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-32532ea2-76c8-4645-b41c-8bf083b42502' class='xr-array-in' type='checkbox' ><label for='section-32532ea2-76c8-4645-b41c-8bf083b42502' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>401.3 23.79 384.8 41.19 508.6 73.54 ... 25.0 132.6 2.656 1.139 0.0</span></div><div class='xr-array-data'><pre>array([[401.2876   ,  23.7854   ],\n       [384.7978   ,  41.19397  ],\n       [508.56317  ,  73.54425  ],\n       ...,\n       [282.94922  ,  25.000525 ],\n       [132.57616  ,   2.656464 ],\n       [  1.1394137,   0.       ]], shape=(9000, 2), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-e8b1ff6d-c123-41f1-8417-a7be377ca65e' class='xr-section-summary-in' type='checkbox'  ><label for='section-e8b1ff6d-c123-41f1-8417-a7be377ca65e' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-457f27ef-630d-4aca-bc00-c9f3c931032a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-457f27ef-630d-4aca-bc00-c9f3c931032a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5090820d-33fe-4ffd-beb4-133707bb4496' class='xr-var-data-in' type='checkbox'><label for='data-5090820d-33fe-4ffd-beb4-133707bb4496' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-aec7011b-912f-4d87-a96c-a2de0aaff1f8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-aec7011b-912f-4d87-a96c-a2de0aaff1f8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fcc00f7c-1a2b-4cff-90e7-d96ccc40cb3f' class='xr-var-data-in' type='checkbox'><label for='data-fcc00f7c-1a2b-4cff-90e7-d96ccc40cb3f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-10a3fdda-97aa-49ab-9cfc-abd1ef1ade29' class='xr-section-summary-in' type='checkbox'  ><label for='section-10a3fdda-97aa-49ab-9cfc-abd1ef1ade29' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-1ae82324-bb88-4ba9-98a6-57bcab909418' class='xr-index-data-in' type='checkbox'/><label for='index-1ae82324-bb88-4ba9-98a6-57bcab909418' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b8c81c77-800f-47a6-a449-ef1d01c21149' class='xr-index-data-in' type='checkbox'/><label for='index-b8c81c77-800f-47a6-a449-ef1d01c21149' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3602500b-9582-4753-afe9-713d89394dc8' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-3602500b-9582-4753-afe9-713d89394dc8' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nTo plot it across time:\n\n::: {#c4453bd3 .cell execution_count=29}\n``` {.python .cell-code}\nds_oct.centroid_speed.plot.line(x=\"time\", row=\"individuals\", aspect=2, size=2.5)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](04-movement-intro_files/figure-html/cell-29-output-1.png){}\n:::\n:::\n\n\nTo compute the distance travelled by each individual within a certain time window:\n\n::: {#09919d58 .cell execution_count=30}\n``` {.python .cell-code}\nds_oct[\"path_length\"] = compute_path_length(\n    ds_oct.centroid_position.sel(time=slice(50, 100))\n)\n\nds_oct.path_length\n```\n\n::: {.cell-output .cell-output-display execution_count=29}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;path_length&#x27; (individuals: 2)&gt; Size: 8B\n1.047e+04 1.094e+04\nCoordinates: (1)\nAttributes: (1)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'path_length'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>individuals</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-bcdb28a6-d3e8-41fa-9069-080a36d152ce' class='xr-array-in' type='checkbox' ><label for='section-bcdb28a6-d3e8-41fa-9069-080a36d152ce' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1.047e+04 1.094e+04</span></div><div class='xr-array-data'><pre>array([10465.438, 10936.398], dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-dca0c1a0-6e1d-4ed9-84e2-46d6443cb4cf' class='xr-section-summary-in' type='checkbox'  ><label for='section-dca0c1a0-6e1d-4ed9-84e2-46d6443cb4cf' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>individuals</span></div><div class='xr-var-dims'>(individuals)</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;1&#x27; &#x27;2&#x27;</div><input id='attrs-48b0d14e-c649-4322-8d16-af3a2ad03ea7' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-48b0d14e-c649-4322-8d16-af3a2ad03ea7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b3e1f7f2-0271-4ead-a0b6-407da1867e73' class='xr-var-data-in' type='checkbox'><label for='data-b3e1f7f2-0271-4ead-a0b6-407da1867e73' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;&lt;U1&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d41f9cec-8f84-41db-b096-dc8530f2e99d' class='xr-section-summary-in' type='checkbox'  ><label for='section-d41f9cec-8f84-41db-b096-dc8530f2e99d' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>individuals</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3021d501-ee2d-4a90-b964-3e576c99bf39' class='xr-index-data-in' type='checkbox'/><label for='index-3021d501-ee2d-4a90-b964-3e576c99bf39' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;1&#x27;, &#x27;2&#x27;], dtype=&#x27;object&#x27;, name=&#x27;individuals&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a701690f-57e5-4292-856c-d90b94a32025' class='xr-section-summary-in' type='checkbox'  ><label for='section-a701690f-57e5-4292-856c-d90b94a32025' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>log :</span></dt><dd>[\n  {\n    &quot;operation&quot;: &quot;filter_by_confidence&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.867082&quot;,\n    &quot;confidence&quot;: &quot;&lt;xarray.DataArray &#x27;confidence&#x27; (time: 9000, keypoints: 7, individuals: 2)&gt; Size: 504kB\\n0.9292 0.8582 0.9183 0.9426 0.9423 1.033 ... 0.8551 0.9173 0.598 0.8343 0.0\\nCoordinates: (3)&quot;,\n    &quot;threshold&quot;: &quot;0.8&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;rolling_filter&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.883691&quot;,\n    &quot;window&quot;: &quot;5&quot;,\n    &quot;statistic&quot;: &quot;&#x27;median&#x27;&quot;,\n    &quot;min_periods&quot;: &quot;2&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;interpolate_over_time&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:11.113501&quot;,\n    &quot;method&quot;: &quot;&#x27;linear&#x27;&quot;,\n    &quot;max_gap&quot;: &quot;10&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  }\n]</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nWe will compute the distance between the centroids of the two individuals and plot it across time:\n\n::: {#1d3987ec .cell execution_count=31}\n``` {.python .cell-code}\nds_oct[\"inter_individual_distance\"] = compute_pairwise_distances(\n    ds_oct.centroid_position,\n    dim=\"individuals\",\n    pairs={\"1\": \"2\"}\n)\n\nds_oct.inter_individual_distance\n```\n\n::: {.cell-output .cell-output-display execution_count=30}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;inter_individual_distance&#x27; (time: 9000)&gt; Size: 72kB\n177.2 172.2 168.7 162.3 159.0 157.3 ... 672.7 674.2 675.6 679.4 682.9 683.0\nCoordinates: (1)\nAttributes: (1)</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'inter_individual_distance'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 9000</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-521d42cd-8df2-419a-b934-33ddb493338b' class='xr-array-in' type='checkbox' ><label for='section-521d42cd-8df2-419a-b934-33ddb493338b' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>177.2 172.2 168.7 162.3 159.0 157.3 ... 674.2 675.6 679.4 682.9 683.0</span></div><div class='xr-array-data'><pre>array([177.22497485, 172.19095439, 168.69327442, ..., 679.41812698,\n       682.94437438, 682.95474153], shape=(9000,))</pre></div></div></li><li class='xr-section-item'><input id='section-4d8a318e-6d50-4073-b501-fb818b83c402' class='xr-section-summary-in' type='checkbox'  ><label for='section-4d8a318e-6d50-4073-b501-fb818b83c402' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.02 0.04 ... 179.9 180.0 180.0</div><input id='attrs-af0f43a6-6c9b-47f0-a23a-b0509ef0ab3a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-af0f43a6-6c9b-47f0-a23a-b0509ef0ab3a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8c03811c-c531-4677-bda9-03c722e86cdf' class='xr-var-data-in' type='checkbox'><label for='data-8c03811c-c531-4677-bda9-03c722e86cdf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.0000e+00, 2.0000e-02, 4.0000e-02, ..., 1.7994e+02, 1.7996e+02,\n       1.7998e+02], shape=(9000,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f94095b5-672a-4917-820c-711dcc4e6a63' class='xr-section-summary-in' type='checkbox'  ><label for='section-f94095b5-672a-4917-820c-711dcc4e6a63' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-4e785373-9704-420b-9ba6-22ad1d6caa05' class='xr-index-data-in' type='checkbox'/><label for='index-4e785373-9704-420b-9ba6-22ad1d6caa05' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([   0.0,   0.02,   0.04,   0.06,   0.08,    0.1,   0.12,   0.14,   0.16,\n         0.18,\n       ...\n        179.8, 179.82, 179.84, 179.86, 179.88,  179.9, 179.92, 179.94, 179.96,\n       179.98],\n      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;, length=9000))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8b445bce-82fa-4f52-ac39-093f68789aaa' class='xr-section-summary-in' type='checkbox'  ><label for='section-8b445bce-82fa-4f52-ac39-093f68789aaa' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>log :</span></dt><dd>[\n  {\n    &quot;operation&quot;: &quot;filter_by_confidence&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.867082&quot;,\n    &quot;confidence&quot;: &quot;&lt;xarray.DataArray &#x27;confidence&#x27; (time: 9000, keypoints: 7, individuals: 2)&gt; Size: 504kB\\n0.9292 0.8582 0.9183 0.9426 0.9423 1.033 ... 0.8551 0.9173 0.598 0.8343 0.0\\nCoordinates: (3)&quot;,\n    &quot;threshold&quot;: &quot;0.8&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;rolling_filter&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:10.883691&quot;,\n    &quot;window&quot;: &quot;5&quot;,\n    &quot;statistic&quot;: &quot;&#x27;median&#x27;&quot;,\n    &quot;min_periods&quot;: &quot;2&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  },\n  {\n    &quot;operation&quot;: &quot;interpolate_over_time&quot;,\n    &quot;datetime&quot;: &quot;2025-08-10 19:46:11.113501&quot;,\n    &quot;method&quot;: &quot;&#x27;linear&#x27;&quot;,\n    &quot;max_gap&quot;: &quot;10&quot;,\n    &quot;print_report&quot;: &quot;True&quot;\n  }\n]</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\nTo plot the inter-individual distance across time:\n\n::: {#42cb96ff .cell execution_count=32}\n``` {.python .cell-code}\nds_oct.inter_individual_distance.plot.line(x=\"time\", aspect=2, size=2.5)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](04-movement-intro_files/figure-html/cell-32-output-1.png){}\n:::\n:::\n\n\n:::\n\n:::\n\nIf you wish to learn more about quantifying motion with `movement`,\nincluding things we didn't cover here, the following example notebooks\nare good follow-ups:\n\n- [Compute head direction](https://movement.neuroinformatics.dev/examples/compute_head_direction.html): a good place to learn about orientations and angles\n- [Pupil tracking](https://movement.neuroinformatics.dev/examples/mouse_eye_movements.html): an interesting application of kinematics to analyse mouse eye movements\n\nThe following two chapters—[@sec-movement-mouse] and [@sec-movement-zebras]—constitute\ncase studies in which we apply `movement` to some real-world datasets.\nThe two case studies represent quite different applications:\n\n- [@sec-movement-mouse]: continuous home cage monitoring data tracking mice for months\n- [@sec-movement-zebras]: collective escape events in a herd of zebras, recorded via a drone\n\n## Join the movement {#sec-movement-next}\n\nThis chapter does not represent a full list of `movement`'s current and future capabilities.\nThe package will continue to evolve as it's being actively developed by a core team of engineers\n(aka the authors of this book) supported by a growing, global\n[community of contributors](https://movement.neuroinformatics.dev/community/people.html).\n\nWe are committed to openness and transparency and always welcome feedback and contributions from the community,\nespecially from practicing animal behaviour researchers, to shape the project's direction.\n\nVisit the [movement community page](https://movement.neuroinformatics.dev/community)\nto find about ways to get help and get involved.\n\n::: {.callout-tip title=\"Discuss\"}\n\n- What do you think of the `movement` package? What aspects of it could be improved?\n- What is currently missing? What types of analyses would you like for `movement` to support?\n\nIf you have ideas, tell us about them on Zulip, open an issue on GitHub, or suggest a project for the hackday!\n\n:::\n\n",
    "supporting": [
      "04-movement-intro_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}